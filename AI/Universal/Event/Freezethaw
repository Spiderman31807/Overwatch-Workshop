settings
{
	main
	{
		Description: "Assault                  :   VX9S6\nEscort                    :   ESWTD\nControl                   :   TCFXG\nHybrid                    :   0DYE6\nDeathmatch           :   NSFHN\nElimination             :   XZG53K\nCapture The Flag   :   YJ24J\nFlashpoint              :   SMY64\nPush                       :   KF7C8\n\nFreezethaw             :  95WS2"
		Mode Name: "Freezethaw Universal AI"
	}

	lobby
	{
		Max Team 1 Players: 4
		Max Team 2 Players: 4
	}

	modes
	{
		disabled Assault
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Bounty Hunter
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Capture the Flag
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Control
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Deathmatch
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Elimination
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
			Score To Win: 5
			Time To Capture: 7
		}

		disabled Escort
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		Freezethaw Elimination
		{
			Time To Capture: 7

			disabled maps
			{
				Necropolis
			}
		}

		disabled Hybrid
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Practice Range
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Skirmish
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}

		disabled Team Deathmatch
		{
			Game Mode Start: Immediately
			Limit Roles: 2 Of Each Role Per Team
		}
	}

	workshop
	{
		Aim Type: [3]
		Amount Team 1: 4
		Amount Team 2: 4
		Memory: Off
		Random Gamertags: Off
		Slot 1 Role: [2]
		Slot 2 Role: [3]
		Slot 3 Role: [1]
		Slot 4 Role: [2]
		Slot 5 Role: [3]
		Slot 6 Role: [1]
		Sound Based Detection: Off
		Targeting Type: [3]
	}

	extensions
	{
		Spawn More Dummy Bots
	}
}

variables
{
	global:
		0: Path_Nodes
		1: Healthkits
		2: Hero_Pools
		3: Bot_Hero_PoolsT1
		4: Mode_Type
		5: ObjectiveA_Nodes
		6: ObjectiveB_Nodes
		7: Limited_Heros
		8: All_Heros
		9: Primary_Max
		10: Mystery_Hero
		11: Number_Of_Bots_T1
		12: Ability1_Max
		13: Mobility_Distance
		14: Primary_Min
		15: Team1_Heros
		16: Ultimate_Duration
		17: Secondary_Max
		18: Secondary_Min
		19: Charge_Time
		20: Use_Ultimate_Max
		21: Ultimate_Health
		22: Gamertags
		23: Team2_Heros
		24: Aim_Type
		25: T1_Available_Heros
		26: T2_Available_Heros
		27: Passive
		28: Slot1_Role_Lock
		29: Slot2_Role_Lock
		30: Slot3_Role_Lock
		31: Slot4_Role_Lock
		32: Slot5_Role_Lock
		33: Slot6_Role_Lock
		34: Ultimate_Targets
		35: Ability1_Min
		36: Ability2_Max
		37: Ability2_Min
		38: Ultimate_Target_Team
		39: Primary_Arc
		40: Secondary_Arc
		41: Ultimate_Max
		42: Ultimate_Min
		43: Ability1_Arc
		44: Ability2_Arc
		45: Ultimate_Arc
		46: Difficulty
		47: Invisible_Targeting
		48: Primary_Sound_Max
		49: Secondary_Sound_Max
		50: Ability1_Sound_Max
		51: Ability2_Sound_Max
		52: Ultimate_Sound_Max
		53: Walking_Sound_Max
		54: Crouch_Walk_Sound_Max
		55: Melee_Sound_Max
		56: Aim_Predict_Scale
		57: Targeting_Type
		58: Can_Hear
		59: Use_Complex_Abilitys
		60: Ignore_Abilitys
		61: Target_Friendly
		62: Can_Communicate
		63: Turn_Speed
		64: Vaild_heros
		65: Number_Of_Bots_T2
		66: Random_Gamertags
		67: Bot_Hero_PoolsT2
		68: Staircase_Bottom
		69: Staircase_Middle
		70: Staircase_Top
		71: Healthkits_Small
		72: Healthkits_Large
		73: Chokepoint
		74: Point_Active
		75: Jump_Start
		76: Jump_End
		77: LeaderT1
		78: LeaderT2

	player:
		0: Walk_To_Position
		1: Current_Node
		2: Primary_Max
		3: Aim_Predict
		4: Node_Options
		5: Invisible_Cooldown
		6: Offensive
		7: Defensive
		8: Mobility
		9: Ultimate_Target_Team
		10: Jump_From
		11: Healing
		12: Ability1_Max
		13: Mobility_Distance
		14: Hero
		15: Secondary_Fire
		16: Secondary_Offensive
		17: Secondary_Defensive
		18: Secondary_Healing
		19: Hold
		20: Confirm
		21: Toggle
		22: Current_Offensive
		23: Current_Defensive
		24: Current_Mobility
		25: Current_Healing
		26: Targets
		27: Target_Order
		28: Primary_Min
		29: Cooldown
		30: Charge
		31: Resource
		32: Aim_Predict_Scale
		33: Secondary_Max
		34: Secondary_Min
		35: Charging
		36: Charging_Time
		37: Use_Ultimate_Max
		38: Ultimate_Health
		39: Hero_Pool
		40: Ultimates_Used
		41: Ultimate_Targets
		42: Role_Lock
		43: Ability1_Min
		44: Ability2_Max
		45: Ability2_Min
		46: Heal_Friendlys
		47: Current_Heal_Friendlys
		48: Walk_Max
		49: Walk_Min
		50: New_Hero
		51: Using_Stairs
		52: Passive
		53: Last_Stair_Type
		54: Aim_Arc
		55: Can_Change_Arc
		56: Ultimate_Max
		57: Ultimate_Min
		58: Ultimate_Duration
		59: Ignore_Lower_Nodes
		60: Use_If_Shield
		61: Alternative_Form
		62: Zen_Orb_Target
		63: Zen_Orb_Hero
		64: Current_Hero
		65: Seen_By_Memory
		66: Known_Nodes
		67: Node_DePrioritze
		68: Vist_Count
		69: Stairs_Index
		70: Is_Visible_Array
		71: In_Combat_Array
		72: Is_Frozen
		73: Thaw_Breaking_Point
}

subroutines
{
	0: Black_Forest
	2: Castillo
	3: Ecopoint_Antarctica
	4: Ayutthaya
	5: Hero_Values
	6: Hero_Variables
	8: Global_Setup
	9: Node_Setup
	11: Start_Facing
	13: Get_Roles
	14: Difficulty
	15: Gamertags
}

rule("------------------------------------------- Made By Spiderman318 | YT Spiderman318 ---------------------------------------")
{
	event
	{
		Ongoing - Global;
	}

	actions
	{
		Global.Vaild_heros = Array(Hero(Reinhardt), Hero(Winston), Hero(Roadhog), Hero(Zarya), Hero(D.Va), Hero(Orisa), Hero(
			Wrecking Ball), Hero(Sigma), Hero(Mercy), Hero(Zenyatta), Hero(Lúcio), Hero(Ana), Hero(Brigitte), Hero(Moira), Hero(Baptiste),
			Hero(Reaper), Hero(Tracer), Hero(Hanzo), Hero(Torbjörn), Hero(Pharah), Hero(Widowmaker), Hero(Bastion), Hero(Symmetra), Hero(
			Genji), Hero(Cassidy), Hero(Junkrat), Hero(Soldier: 76), Hero(Mei), Hero(Sombra), Hero(Doomfist), Hero(Ashe), Hero(Echo), Hero(
			Junker Queen), Hero(Kiriko), Hero(Ramattra), Hero(Lifeweaver), Hero(Sojourn), Hero(Illari), Hero(Mauga));
		Global.Difficulty = Workshop Setting Combo(Custom String("AI"), Custom String("Difficulty"), 0, Array(Custom String(
			"Custom Difficulty (Dont Override)"), Custom String("Easy"), Custom String("Normal"), Custom String("Hard")), 0);
		Global.Aim_Type = Workshop Setting Combo(Custom String("AI"), Custom String("Aim Type"), 0, Array(Custom String(
			"Basic (Aim At Head With No Leading Or Arc)"), Custom String("Leading (Aim At Head With Leading But No Arc)"), Custom String(
			"Arc (Aim At Head With Arc But No Leading)"), Custom String("Advanced (Aim At Head With Leading And Arc)")), 1);
		Global.Invisible_Targeting = Workshop Setting Combo(Custom String("AI"), Custom String("Invisible Targeting"), 0, Array(
			Custom String("While Hacking or Within 3 Meters or Less"), Custom String("While Hacking"), Custom String(
			"Within 3 Meters Or Less"), Custom String("Never")), 2);
		Global.Targeting_Type = Workshop Setting Combo(Custom String("AI"), Custom String("Targeting Type"), 0, Array(Custom String(
			"Basic (LOS)"), Custom String("Hero (LOS / ABS)"), Custom String("Improved (LOS / SBD)"), Custom String(
			"Hero Improved (LOS / ABS / SBD)"), Custom String(
			"\nLOS - Line Of Sight\r\n\r\nABS - Ability Based Sight\r\n(Does'nt Include Sonic Arrow)\r"), Custom String(
			"\nSBD - Sound Based Detection\r\n(Only Works If SBD Is Toggled On)")), 3);
		Global.Can_Hear = Workshop Setting Toggle(Custom String("AI"), Custom String("Sound Based Detection"), True, 4);
		Global.Use_Complex_Abilitys = Workshop Setting Toggle(Custom String("AI"), Custom String(
			"Use Complex Abilitys (Zen Orbs, Lucio Crossfade, Etc)"), True, 5);
		Global.Ignore_Abilitys = Workshop Setting Toggle(Custom String("AI"), Custom String(
			"Ignore Abilitys (Continue To Fire Into Deflect, Defence Matrix, Etc)"), False, 6);
		Global.Target_Friendly = Workshop Setting Toggle(Custom String("AI"), Custom String("Target Friendlys (Healing, Protection, Etc)"),
			True, 7);
		Global.Can_Communicate = Workshop Setting Toggle(Custom String("AI"), Custom String(
			"Can Communicate (Hello, Need Help, Need Healing, Understand, Thanks)"), True, 8);
		Global.Turn_Speed = Workshop Setting Integer(Custom String("AI"), Custom String("Turn Speed"), 225, 10, 500, 11);
		Global.Random_Gamertags = Workshop Setting Toggle(Custom String("AI"), Custom String("Random Gamertags"), True, 8);
		Call Subroutine(Difficulty);
		Call Subroutine(Global_Setup);
		Skip If(Global.Random_Gamertags == False, 1);
		Call Subroutine(Gamertags);
		Call Subroutine(Hero_Values);
		Wait Until(Is Assembling Heroes, 99999);
		Call Subroutine(Node_Setup);
	}
}

rule("Setup Heros")
{
	event
	{
		Player Joined Match;
		All;
		All;
	}

	actions
	{
		Set Player Allowed Heroes(All Players(Team 1), Global.Mode_Type <= 1 ? Global.Team1_Heros : (
			Global.Mode_Type == 2 ? Global.Limited_Heros : (Global.Mode_Type == 3 ? Random Value In Array(Global.Team1_Heros)
			: Global.Mystery_Hero)));
		Set Player Allowed Heroes(All Players(Team 2), Global.Mode_Type <= 1 ? Global.Team2_Heros : (
			Global.Mode_Type == 2 ? Global.Limited_Heros : (Global.Mode_Type == 3 ? Random Value In Array(Global.Team2_Heros)
			: Global.Mystery_Hero)));
	}
}

rule("1v1 Round Start")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		Is In Setup == True;
		Global.Mode_Type > 0;
	}

	actions
	{
		Communicate(All Players(All Teams), Emote Up);
		Communicate(All Players(All Teams), Emote Left);
		Communicate(All Players(All Teams), Emote Right);
		Communicate(All Players(All Teams), Emote Down);
		Set Move Speed(All Players(All Teams), 0);
		Set Jump Vertical Speed(All Players(All Teams), 0);
		Start Camera(All Players(Team 1), Eye Position(Players In Slot(0, Team 1)) + Facing Direction Of(Players In Slot(0, Team 1)) * 2,
			Eye Position(Players In Slot(0, Team 1)), 0);
		Start Camera(All Players(Team 2), Eye Position(Players In Slot(0, Team 2)) + Facing Direction Of(Players In Slot(0, Team 2)) * 2,
			Eye Position(Players In Slot(0, Team 2)), 0);
		Wait(2.500, Ignore Condition);
		Cancel Primary Action(All Players(All Teams));
		Communicate(All Players(All Teams), Emote Up);
		Communicate(All Players(All Teams), Emote Left);
		Communicate(All Players(All Teams), Emote Right);
		Communicate(All Players(All Teams), Emote Down);
		Start Camera(All Players(Team 2), Eye Position(Players In Slot(0, Team 1)) + Facing Direction Of(Players In Slot(0, Team 1)) * 2,
			Eye Position(Players In Slot(0, Team 1)), 0);
		Start Camera(All Players(Team 1), Eye Position(Players In Slot(0, Team 2)) + Facing Direction Of(Players In Slot(0, Team 2)) * 2,
			Eye Position(Players In Slot(0, Team 2)), 0);
		Wait(2.500, Ignore Condition);
		Set Move Speed(All Players(All Teams), 100);
		Set Jump Vertical Speed(All Players(All Teams), 100);
		Stop Camera(All Players(All Teams));
		Cancel Primary Action(All Players(All Teams));
	}
}

rule("3v3 T1 Win")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Team Score(Team 1) == 3;
		Global.Mode_Type == 0;
	}

	actions
	{
		Declare Team Victory(Team 1);
	}
}

rule("3v3 T2 Win")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Team Score(Team 2) == 3;
		Global.Mode_Type == 0;
	}

	actions
	{
		Declare Team Victory(Team 2);
	}
}

disabled rule("----------------------------------- AI Communicate ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Bot Say Hello")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Communicating(Event Player, Hello) == True;
		Is Dummy Bot(Event Player) != True;
		Global.Can_Communicate == True;
	}

	actions
	{
		Wait(1, Ignore Condition);
		Communicate(Filtered Array(Remove From Array(All Living Players(Team Of(Event Player)), Event Player), Is In View Angle(
			Event Player, Eye Position(Current Array Element), 45) == True && Is In Line of Sight(Eye Position(Event Player), Eye Position(
			Current Array Element), Barriers Do Not Block LOS) == True && Distance Between(Event Player, Current Array Element)
			< 20 && Is Dummy Bot(Current Array Element)), Hello);
	}
}

rule("Bot Say Need Help")
{
	event
	{
		Player Took Damage;
		All;
		All;
	}

	conditions
	{
		Is Communicating(Event Player, Need Help) != True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Global.Can_Communicate == True;
	}

	actions
	{
		Communicate(Event Player, Need Help);
		Wait(8, Ignore Condition);
	}
}

rule("Bot Say Need Healing")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Communicating(Event Player, Need Healing) != True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Normalized Health(Event Player) <= 0.800;
		Global.Can_Communicate == True;
	}

	actions
	{
		Communicate(Event Player, Need Healing);
		Wait(8, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Bot Say Understood")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Communicating(Event Player, Ultimate Status) == True;
		Is Dummy Bot(Event Player) != True;
		Ultimate Charge Percent(Event Player) == 100;
		Global.Can_Communicate == True;
	}

	actions
	{
		Communicate(Filtered Array(Remove From Array(All Living Players(Team Of(Event Player)), Event Player), Is Dummy Bot(
			Current Array Element)), Acknowledge);
	}
}

rule("Bot Say Thanks")
{
	event
	{
		Player Received Healing;
		All;
		All;
	}

	conditions
	{
		Is Communicating(Event Player, Thanks) != True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Healer != Healee;
		Entity Exists(Healer) == True;
		Global.Can_Communicate == True;
	}

	actions
	{
		Communicate(Event Player, Thanks);
		Wait(8, Ignore Condition);
	}
}

disabled rule("----------------------------------- AI Communicate ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

disabled rule("----------------------------------- Pathfinder ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Use Jump Node")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Has Spawned(Event Player) == True;
		Array Contains(Global.Jump_Start, Event Player.Current_Node) == True;
		Distance Between(Event Player, Event Player.Current_Node) <= 3;
	}

	actions
	{
		Event Player.Jump_From = Event Player.Current_Node;
		Start Throttle In Direction(Event Player, Direction Towards(Event Player, Event Player.Jump_From), Distance Between(Event Player,
			Event Player.Jump_From) / 2, To World, Replace existing throttle, Direction and Magnitude);
		Wait Until(Update Every Frame(Distance Between(Event Player, Event Player.Jump_From)) <= 1.600, 99999);
		Start Throttle In Direction(Event Player, Direction Towards(Event Player.Jump_From, Global.Jump_End[Index Of Array Value(
			Global.Jump_Start, Event Player.Jump_From)]), 1, To World, Replace existing throttle, None);
		Wait Until(Update Every Frame(Distance Between(Event Player, Global.Jump_End[Index Of Array Value(Global.Jump_Start,
			Event Player.Jump_From)])) <= 1.600, 99999);
		Press Button(Event Player, Button(Jump));
		Wait Until(Is On Ground(Event Player), 4);
		Wait(1, Ignore Condition);
		Start Throttle In Direction(Event Player, Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position,
			Barriers Do Not Block LOS) ? (Distance Between(Event Player, Event Player.Walk_To_Position)
			< Event Player.Walk_Min ? Direction Towards(Event Player.Walk_To_Position, Event Player) : Direction Towards(Event Player,
			Event Player.Walk_To_Position)) : Direction Towards(Position Of(Event Player), Event Player.Current_Node), (Distance Between(
			Event Player, Event Player.Walk_To_Position) < Event Player.Walk_Min || Distance Between(Event Player,
			Event Player.Walk_To_Position) > Event Player.Walk_Max) && Is In Line of Sight(Eye Position(Event Player),
			Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 1 : (Is In Line of Sight(Eye Position(Event Player),
			Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 0 : 1), To World, Replace existing throttle,
			Direction and Magnitude);
	}
}

rule("Pathfind Melee/Jump")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Magnitude Of(Throttle Of(Event Player)) > 0;
		Horizontal Speed Of(Event Player) < 2;
	}

	actions
	{
		Wait(Max(Server Load / 1000, 0.250), Abort When False);
		Press Button(Event Player, Button(Jump));
		Skip If((Hero Of(Event Player) == Hero(Sombra) || Hero Being Duplicated(Event Player) == Hero(Sombra))
			&& Event Player.Invisible_Cooldown == 0 && Event Player.Is_Visible_Array == Empty Array, 3);
		Skip If(Entity Exists(First Of(Event Player.Target_Order)) && Is In Line of Sight(Eye Position(Event Player), Eye Position(
			First Of(Event Player.Target_Order)), Barriers Do Not Block LOS) && Team Of(Event Player) != Team Of(First Of(
			Event Player.Target_Order)), 2);
		Wait(Max(Server Load / 1000, 0.250), Abort When False);
		Press Button(Event Player, Button(Melee));
		Loop If Condition Is True;
	}
}

rule("Current Node")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Has Spawned(Event Player) == True;
		Event Player.Walk_To_Position == Vector(X Component Of(Event Player.Walk_To_Position), Y Component Of(
			Event Player.Walk_To_Position), Z Component Of(Event Player.Walk_To_Position));
	}

	actions
	{
		Event Player.Using_Stairs = Array Contains(Append To Array(Append To Array(Global.Staircase_Middle, Filtered Array(
			Global.Staircase_Bottom, Current Array Element != Null)), Global.Staircase_Top), Event Player.Current_Node) ? True : False;
		Skip If(Y Component Of(Position Of(Event Player)) + 2.750 >= Y Component Of(Event Player.Walk_To_Position), 2);
		Event Player.Ignore_Lower_Nodes = 5;
		Chase Player Variable Over Time(Event Player, Ignore_Lower_Nodes, 0, 5, Destination and Duration);
		If(Distance Between(Position Of(Event Player), Event Player.Current_Node) < 3);
			If(Event Player.Using_Stairs);
				If(Array Contains(Global.Staircase_Bottom, Event Player.Current_Node));
					Event Player.Last_Stair_Type = Custom String("Bottom");
				Else If(Array Contains(Filtered Array(Global.Staircase_Middle, Current Array Element != Null), Event Player.Current_Node));
					Event Player.Last_Stair_Type = Custom String("Middle");
				Else If(Array Contains(Filtered Array(Global.Staircase_Top, Current Array Element != Null), Event Player.Current_Node));
					Event Player.Last_Stair_Type = Custom String("Top");
				End;
			End;
			If(Array Contains(Event Player.Known_Nodes, Event Player.Current_Node) != True);
				Modify Player Variable(Event Player, Known_Nodes, Append To Array, Event Player.Current_Node);
				Modify Player Variable(Event Player, Vist_Count, Append To Array, 1);
			Else;
				Event Player.Vist_Count[Index Of Array Value(Event Player.Known_Nodes, Event Player.Current_Node)] += 1;
			End;
			Event Player.Node_DePrioritze[Index Of Array Value(Event Player.Known_Nodes, Event Player.Current_Node)] += 10;
		End;
		Event Player.Node_Options = Filtered Array(Append To Array(Append To Array(Global.Path_Nodes, Append To Array(Append To Array(
			Global.ObjectiveA_Nodes, Global.ObjectiveB_Nodes), Global.Chokepoint)), Append To Array(Append To Array(
			Global.Staircase_Bottom, Filtered Array(Global.Staircase_Middle, Current Array Element != Null)), Global.Staircase_Top)),
			Event Player.Node_DePrioritze[Index Of Array Value(Event Player.Known_Nodes, Current Array Element)] <= 9999);
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Distance Between(Event Player, Current Array Element) <= 30);
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Y Component Of(Position Of(Event Player))
			+ 2.750 > Y Component Of(Current Array Element));
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Distance Between(Ray Cast Hit Position(Eye Position(
			Event Player) + Direction Towards(Eye Position(Event Player), Current Array Element) * (Distance Between(Eye Position(
			Event Player), Current Array Element) / 1.200), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 1.200) + Vector(0, -99, 0),
			Null, All Players(All Teams), False), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 1.200)) < Max(Y Component Of(
			Position Of(Event Player)) + 1 - Y Component Of(Current Array Element), 8));
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Distance Between(Ray Cast Hit Position(Eye Position(
			Event Player) + Direction Towards(Eye Position(Event Player), Current Array Element) * (Distance Between(Eye Position(
			Event Player), Current Array Element) / 2), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 2) + Vector(0, -99, 0), Null,
			All Players(All Teams), False), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 2)) < Max(Y Component Of(
			Position Of(Event Player)) + 1 - Y Component Of(Current Array Element), 8));
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Distance Between(Ray Cast Hit Position(Eye Position(
			Event Player) + Direction Towards(Eye Position(Event Player), Current Array Element) * (Distance Between(Eye Position(
			Event Player), Current Array Element) / 4), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 4) + Vector(0, -99, 0), Null,
			All Players(All Teams), False), Eye Position(Event Player) + Direction Towards(Eye Position(Event Player),
			Current Array Element) * (Distance Between(Eye Position(Event Player), Current Array Element) / 4)) < Max(Y Component Of(
			Position Of(Event Player)) + 1 - Y Component Of(Current Array Element), 8));
		If(Event Player.Using_Stairs);
			If(Array Contains(Global.Staircase_Bottom, Event Player.Current_Node));
				Event Player.Stairs_Index = Index Of Array Value(Global.Staircase_Bottom, Event Player.Current_Node);
			Else If(Array Contains(Filtered Array(Global.Staircase_Middle, Current Array Element != Null), Event Player.Current_Node));
				Event Player.Stairs_Index = Index Of Array Value(Global.Staircase_Middle, Event Player.Current_Node);
			Else If(Array Contains(Filtered Array(Global.Staircase_Top, Current Array Element != Null), Event Player.Current_Node));
				Event Player.Stairs_Index = Index Of Array Value(Global.Staircase_Top, Event Player.Current_Node);
			End;
			If(Event Player.Last_Stair_Type == Custom String("Bottom"));
				If(Global.Staircase_Middle[Event Player.Stairs_Index] == Null);
					Modify Player Variable(Event Player, Node_Options, Append To Array, Global.Staircase_Top[Event Player.Stairs_Index]);
				Else;
					Modify Player Variable(Event Player, Node_Options, Append To Array, Global.Staircase_Middle[Event Player.Stairs_Index]);
				End;
			Else If(Event Player.Last_Stair_Type == Custom String("Middle"));
				Modify Player Variable(Event Player, Node_Options, Append To Array, Global.Staircase_Top[Event Player.Stairs_Index]);
			End;
		End;
		Event Player.Node_Options = Filtered Array(Event Player.Node_Options, Is In Line of Sight(Eye Position(Event Player),
			Current Array Element, Barriers Do Not Block LOS) == True);
		Event Player.Node_Options = Sorted Array(Event Player.Node_Options, Distance Between(Event Player, Current Array Element) * (
			Y Component Of(Position Of(Event Player)) + 1 <= Y Component Of(Current Array Element)
			|| !Event Player.Ignore_Lower_Nodes ? 1 : (Distance Between(Event Player, Event Player.Walk_To_Position) < Distance Between(
			Current Array Element, Event Player.Walk_To_Position) ? 5 : 2.500)) + Distance Between(Event Player.Walk_To_Position,
			Current Array Element) + Event Player.Node_DePrioritze[Index Of Array Value(Event Player.Known_Nodes, Current Array Element)]);
		Skip If(Distance Between(Vector(X Component Of(Position Of(Event Player)), Y Component Of(Event Player.Walk_To_Position),
			Z Component Of(Position Of(Event Player))), Event Player.Walk_To_Position) > 15, 1);
		Event Player.Node_Options = Sorted Array(Event Player.Node_Options, Current Array Index * (
			Event Player.Ignore_Lower_Nodes != 0 && Y Component Of(Position Of(Event Player)) + (Array Contains(Global.Staircase_Middle,
			Current Array Element) ? 1.500 : 2.750) <= Y Component Of(Current Array Element) && Array Contains(Append To Array(
			Append To Array(Global.Staircase_Middle, Global.Staircase_Bottom), Global.Staircase_Top), Current Array Element) ? 1 : 5));
		Event Player.Current_Node = First Of(Event Player.Node_Options) < 0 ? First Of(Sorted Array(Filtered Array(
			Event Player.Node_Options, Current Array Index < 0), Absolute Value(Current Array Index))) : First Of(
			Event Player.Node_Options);
		If(Count Of(Event Player.Node_Options) == 0);
			Event Player.Node_DePrioritze = Empty Array;
			Event Player.Vist_Count = Empty Array;
			Event Player.Known_Nodes = Empty Array;
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop;
	}
}

rule("Walk To Target")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Event Player.Walk_To_Position != First Of(Event Player.Target_Order);
		(Number Of Players On Objective(Team Of(Event Player)) >= Number Of Players On Objective(Opposite Team Of(Team Of(Event Player)))
			+ 1 || Global.Point_Active != True) == True;
		Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) < (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1);
	}

	actions
	{
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		If(Team Of(First Of(Event Player.Target_Order)) != Team Of(Event Player));
			Event Player.Walk_Max = Min(Event Player.Primary_Max - Event Player.Primary_Max / 2,
				Event Player.Secondary_Max - Event Player.Secondary_Max / 2);
			Event Player.Walk_Min = Min(Event Player.Primary_Min - Event Player.Primary_Min / 2,
				Event Player.Secondary_Min - Event Player.Secondary_Min / 2);
		Else;
			Event Player.Walk_Max = Event Player.Current_Hero == Hero(Mercy) && Is Dead(First Of(Event Player.Target_Order)) ? 2 : 8;
			Event Player.Walk_Min = Event Player.Current_Hero == Hero(Mercy) && Is Dead(First Of(Event Player.Target_Order)) ? 1 : 4;
		End;
		Event Player.Walk_To_Position = First Of(Event Player.Target_Order);
		Wait(Max(Server Load / 1000, 1), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Walk To Objective")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		(Number Of Players On Objective(Team Of(Event Player)) < Number Of Players On Objective(Opposite Team Of(Team Of(Event Player)))
			+ 1 && Global.Point_Active == True) == True;
		(Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) < (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1) || Match Time <= 10) == True;
	}

	actions
	{
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		Event Player.Walk_Max = 1.800;
		Event Player.Walk_Min = 0;
		Event Player.Walk_To_Position = Random Value In Array(Global.ObjectiveA_Nodes);
		Wait(Max(Server Load / 1000, 1.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Walk To Frozen Teammate")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		(Match Time > 10 || Global.Point_Active != True) == True;
		Event Player.Walk_To_Position != Last Of(Sorted Array(Filtered Array(All Players(Team Of(Event Player)),
			Current Array Element.Is_Frozen), Distance Between(Event Player, Current Array Element)));
		Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) >= (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1);
	}

	actions
	{
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		Event Player.Walk_Max = 1.800;
		Event Player.Walk_Min = 0;
		Event Player.Walk_To_Position = Last Of(Sorted Array(Filtered Array(All Players(Team Of(Event Player)),
			Current Array Element.Is_Frozen), Distance Between(Event Player, Current Array Element)));
		Wait(Max(Server Load / 1000, 1.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Target Search (Patrol Leader)")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Team Of(Event Player) == Team 1 ? Global.LeaderT1 : Global.LeaderT2) == Event Player;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		Global.Point_Active != True;
		Entity Exists(First Of(Event Player.Target_Order)) != True;
		Distance Between(Event Player, Event Player.Walk_To_Position) < Event Player.Walk_Max + 1;
		Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) < (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1);
	}

	actions
	{
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		Event Player.Walk_Max = 1.800;
		Event Player.Walk_Min = 0;
		Event Player.Walk_To_Position = Last Of(Sorted Array(Global.Path_Nodes, Distance Between(Event Player, Current Array Element)));
		Wait(Max(Server Load / 1000, 1.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Target Search (Follow Leader)")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Team Of(Event Player) == Team 1 ? Global.LeaderT1 : Global.LeaderT2) != Event Player;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		Global.Point_Active != True;
		Entity Exists(First Of(Event Player.Target_Order)) != True;
		Event Player.Walk_To_Position != (Team Of(Event Player) == Team 1 ? Global.LeaderT1 : Global.LeaderT2);
		Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) < (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1);
	}

	actions
	{
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		Event Player.Walk_Max = 4;
		Event Player.Walk_Min = 2;
		Event Player.Walk_To_Position = Team Of(Event Player) == Team 1 ? Global.LeaderT1 : Global.LeaderT2;
		Wait(Max(Server Load / 1000, 1.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

disabled rule("----------------------------------- Pathfinder ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

disabled rule("----------------------------------- AI ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Setup Bot")
{
	event
	{
		Player Joined Match;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
	}

	actions
	{
		If(Global.Gamertags);
			Start Forcing Dummy Bot Name(Event Player, Random Value In Array(Global.Gamertags));
		Else If(Global.Mode_Type != 0);
			Start Forcing Dummy Bot Name(Event Player, Custom String("AI Opponent", Team Of(Event Player), Slot Of(Event Player)));
		End;
		Event Player.Node_DePrioritze = Empty Array;
		Event Player.Vist_Count = Empty Array;
		Event Player.Known_Nodes = Empty Array;
		Wait(Random Real(1, 3), Ignore Condition);
		While(!Is Match Complete);
			Event Player.Hero = Array Contains(Event Player.Hero_Pool, Hero Of(Event Player)) ? Hero Of(Event Player) : Random Value In Array(
				Filtered Array(Global.Mode_Type <= 1 ? (Team Of(Event Player) == Team 1 ? Global.Team1_Heros : Global.Team2_Heros) : (
				Global.Mode_Type == 2 ? Global.Limited_Heros : (Global.Mode_Type == 3 ? Random Value In Array(Team Of(Event Player)
				== Team 1 ? Global.Team1_Heros : Global.Team2_Heros) : Global.Mystery_Hero)), Array Contains(Event Player.Hero_Pool,
				Current Array Element)));
			If(Is Team On Offense(Team Of(Event Player)) == True);
				Modify Global Variable(T2_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
			Else;
				Modify Global Variable(T1_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
			End;
			Call Subroutine(Start_Facing);
			Call Subroutine(Hero_Variables);
			Wait Until(Is Game In Progress, 99999);
			Start Throttle In Direction(Event Player, Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position,
				Barriers Do Not Block LOS) ? (Distance Between(Event Player, Event Player.Walk_To_Position)
				< Event Player.Walk_Min ? Direction Towards(Event Player.Walk_To_Position, Event Player) : Direction Towards(Event Player,
				Event Player.Walk_To_Position)) : Direction Towards(Position Of(Event Player), Event Player.Current_Node), (Distance Between(
				Event Player, Event Player.Walk_To_Position) < Event Player.Walk_Min || Distance Between(Event Player,
				Event Player.Walk_To_Position) > Event Player.Walk_Max) && Is In Line of Sight(Eye Position(Event Player),
				Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 1 : (Is In Line of Sight(Eye Position(Event Player),
				Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 0 : 1), To World, Replace existing throttle,
				Direction and Magnitude);
			Event Player.Walk_To_Position = Last Of(Sorted Array(Global.Path_Nodes, Distance Between(Event Player, Current Array Element)));
			Wait Until(Event Player.New_Hero, 99999);
			Stop Facing(Event Player);
			Stop Throttle In Direction(Event Player);
			Event Player.New_Hero = False;
			Log To Inspector(Custom String("Swap Hero Request"));
		End;
	}
}

rule("Bot Target List")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Has Spawned(Event Player) == True;
	}

	actions
	{
		Skip If(Global.Targeting_Type == (0 || 2), 3);
		If(Is Hero Being Played(Hero(Widowmaker), Team Of(Event Player)) && Is True For Any(Players On Hero(Hero(Widowmaker), Team Of(
			Event Player)), Is Using Ultimate(Current Array Element)));
			Event Player.Targets = All Living Players(Opposite Team Of(Team Of(Event Player)));
		Else;
			Skip If(Global.Targeting_Type == (0 || 2), 1);
			Event Player.Targets = Append To Array(Filtered Array(All Living Players(Opposite Team Of(Team Of(Event Player))),
				Is In Line of Sight(Eye Position(Event Player), Eye Position(Current Array Element), Barriers Do Not Block LOS)),
				Filtered Array(All Living Players(Opposite Team Of(Team Of(Event Player))), Event Player.Seen_By_Memory > 0));
			Skip If(Global.Targeting_Type == (0 || 1), 8);
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Has Status(Current Array Element, Hacked)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Primary_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && ((Is Duplicating(Current Array Element) ? Hero Being Duplicated(
				Current Array Element) : Hero Of(Current Array Element)) == Hero(D.Va) || (Is Duplicating(Current Array Element)
				? Hero Being Duplicated(Current Array Element) : Hero Of(Current Array Element)) == Hero(Illari) ? Is Button Held(
				Current Array Element, Button(Primary Fire)) : Is Firing Primary(Current Array Element))));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Secondary_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Firing Secondary(Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Ability1_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Using Ability 1(Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Ability2_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Using Ability 2(Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Ultimate_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Using Ultimate(Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Walking_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && !Is Crouching(Current Array Element) && Is Moving(
				Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Crouch_Walk_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Crouching(Current Array Element) && Is Moving(
				Current Array Element)));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Opposite Team Of(Team Of(
				Event Player))), Distance Between(Event Player, Current Array Element) <= Global.Melee_Sound_Max[Index Of Array Value(
				Global.All_Heros, Hero Of(Current Array Element))] && Is Meleeing(Current Array Element)));
			If(Global.Invisible_Targeting == 0);
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Sombra), Opposite Team Of(
					Team Of(Event Player))),
					Current Array Element.Invisible_Cooldown == 0 && Current Array Element.Is_Visible_Array == Empty Array && !Is Firing Secondary(
					Current Array Element) && Distance Between(Eye Position(Event Player), Position Of(Current Array Element))
					> 4 && Distance Between(Position Of(Event Player), Position Of(Current Array Element)) > 4));
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Echo), Opposite Team Of(Team Of(
					Event Player))), Hero Being Duplicated(Current Array Element) == Hero(Sombra) && Is Using Ability 1(Current Array Element)
					&& !Is Firing Secondary(Current Array Element) && Distance Between(Eye Position(Event Player), Position Of(
					Current Array Element)) > 4 && Distance Between(Position Of(Event Player), Position Of(Current Array Element)) > 4));
			Else If(Global.Invisible_Targeting == 3);
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Sombra), Opposite Team Of(
					Team Of(Event Player))),
					Current Array Element.Invisible_Cooldown == 0 && Current Array Element.Is_Visible_Array == Empty Array));
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Echo), Opposite Team Of(Team Of(
					Event Player))), Hero Being Duplicated(Current Array Element) == Hero(Sombra)
					&& Current Array Element.Invisible_Cooldown == 0 && Current Array Element.Is_Visible_Array == Empty Array));
			Else If(Global.Invisible_Targeting == 1);
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Sombra), Opposite Team Of(
					Team Of(Event Player))),
					Current Array Element.Invisible_Cooldown == 0 && Current Array Element.Is_Visible_Array == Empty Array && !Is Firing Secondary(
					Current Array Element)));
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Echo), Opposite Team Of(Team Of(
					Event Player))),
					Current Array Element.Invisible_Cooldown == 0 && Current Array Element.Is_Visible_Array == Empty Array && !Is Firing Secondary(
					Current Array Element) && Hero Being Duplicated(Current Array Element) == Hero(Sombra)));
			Else;
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Sombra), Opposite Team Of(
					Team Of(Event Player))), Is Using Ability 1(Current Array Element) && Distance Between(Eye Position(Event Player), Position Of(
					Current Array Element)) > 4 && Distance Between(Position Of(Event Player), Position Of(Current Array Element)) > 4));
				Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Players On Hero(Hero(Echo), Opposite Team Of(Team Of(
					Event Player))), Is Using Ability 1(Current Array Element) && Hero Being Duplicated(Current Array Element) == Hero(Sombra)
					&& Distance Between(Eye Position(Event Player), Position Of(Current Array Element)) > 4 && Distance Between(Position Of(
					Event Player), Position Of(Current Array Element)) > 4));
			End;
		End;
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(All Players(All Teams), Has Status(
			Current Array Element, Asleep) || Is In Spawn Room(Current Array Element) || Has Status(Current Array Element, Phased Out)
			|| !Has Spawned(Current Array Element)));
		Skip If(Global.Ignore_Abilitys == True, 5);
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(D.Va),
			All Teams), Hero Being Duplicated(Event Player) == Hero(D.Va)), Is Firing Secondary(Current Array Element) && Is In View Angle(
			Current Array Element, Eye Position(Event Player), 70)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Zarya),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Zarya)), Is Using Ability 1(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Reaper),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Reaper)), Is Using Ability 1(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Genji),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Genji)), Is Using Ability 2(Current Array Element) && Is In View Angle(
			Current Array Element, Eye Position(Event Player), 70)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Sigma),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Sigma)), Is Using Ability 1(Current Array Element) && Is In View Angle(
			Current Array Element, Eye Position(Event Player), 70)));
		Skip If(Global.Target_Friendly == False, 25);
		If((Hero Being Duplicated(Event Player) == Hero(Zarya) || Hero Of(Event Player) == Hero(Zarya)) && Ability Cooldown(Event Player,
			Button(Ability 2)) == Null);
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < 0.400));
		Else If((Hero Being Duplicated(Event Player) == Hero(Moira) || Hero Of(Event Player) == Hero(Moira)) && Ability Resource(
				Event Player, Button(Primary Fire)) > 0);
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		Else If(Hero Being Duplicated(Event Player) == Hero(Mercy) || Hero Of(Event Player) == Hero(Mercy));
			Modify Player Variable(Event Player, Targets, Append To Array, Append To Array(Filtered Array(All Living Players(Team Of(
				Event Player)), Normalized Health(Current Array Element) < 1), Filtered Array(All Players(Team Of(Event Player)), Is Dead(
				Current Array Element))));
		Else If((Hero Being Duplicated(Event Player) == Hero(Brigitte) || Hero Of(Event Player) == Hero(Brigitte)) && Ability Charge(
				Event Player, Button(Ability 2)) > 0);
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < 1));
		Else If(Hero Being Duplicated(Event Player) == Hero(Baptiste) || Hero Of(Event Player) == Hero(Baptiste));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		Else If(Hero Being Duplicated(Event Player) == Hero(Ana) || Hero Of(Event Player) == Hero(Ana));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		Else If((Hero Being Duplicated(Event Player) == Hero(Lúcio) || Hero Of(Event Player) == Hero(Lúcio)) && !Is In Alternate Form(
				Event Player));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < 1));
		Else If(Hero Being Duplicated(Event Player) == Hero(Kiriko) || Hero Of(Event Player) == Hero(Kiriko));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		Else If((Hero Being Duplicated(Event Player) == Hero(Zenyatta) || Hero Of(Event Player) == Hero(Zenyatta))
				&& !Is In Alternate Form(Event Player));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(Remove From Array(All Living Players(Team Of(
				Event Player)), Event Player), Normalized Health(Current Array Element) < 1));
			Skip If(!Entity Exists(First Of(Filtered Array(Event Player.Targets, Team Of(Current Array Element) == Team Of(Event Player)))),
				1);
			Event Player.Targets = First Of(Filtered Array(Sorted Array(Event Player.Targets, Distance Between(Event Player,
				Current Array Element) * Health(Current Array Element)), Team Of(Current Array Element) == Team Of(Event Player)))
				== Event Player.Zen_Orb_Target ? Filtered Array(Event Player.Targets, Team Of(Current Array Element) != Team Of(Event Player))
				: Event Player.Targets;
		Else If(Hero Being Duplicated(Event Player) == Hero(Lifeweaver) || Hero Of(Event Player) == Hero(Lifeweaver));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		Else If(Hero Being Duplicated(Event Player) == Hero(Illari) || Hero Of(Event Player) == Hero(Illari));
			Modify Player Variable(Event Player, Targets, Append To Array, Filtered Array(All Living Players(Team Of(Event Player)),
				Normalized Health(Current Array Element) < (Count Of(Event Player.Targets) > 0 ? 0.800 : 1)));
		End;
		Modify Player Variable(Event Player, Targets, Remove From Array By Value, Append To Array(Event Player, Filtered Array(All Players(
			All Teams), !Has Spawned(Current Array Element))));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Doomfist),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Doomfist)), Is Using Ultimate(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Moira),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Moira)), Is Using Ability 1(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Mei),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Mei)), Is Using Ability 1(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Zenyatta),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Zenyatta)), Is Using Ultimate(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(Append To Array(Players On Hero(Hero(Tracer),
			All Teams), Hero Being Duplicated(Event Player) == Hero(Tracer)), Is Using Ability 2(Current Array Element)));
		Event Player.Targets = Remove From Array(Event Player.Targets, Filtered Array(All Living Players(Opposite Team Of(Team Of(
			Event Player))), !Is On Objective(Current Array Element) && Is Communicating Any Emote(Current Array Element)));
		Event Player.Target_Order = Sorted Array(Event Player.Targets, Distance Between(Event Player, Current Array Element) * Health(
			Current Array Element) - (Team Of(Current Array Element) == Team Of(Event Player) ? (Is In Line of Sight(Eye Position(
			Event Player), Eye Position(Current Array Element), Barriers Do Not Block LOS) ? 1000 : 0) : 0));
		If(!Entity Exists(First Of(Event Player.Target_Order)));
			Press Button(Event Player, Button(Reload));
		End;
		Wait(Max(Server Load / 1000, 1.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Heal Target")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Heal_Friendlys != Empty Array;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Team Of(Event Player) == Team Of(First Of(Event Player.Target_Order));
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Is True For Any(Event Player.Heal_Friendlys, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Heal_Friendlys, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Heal_Friendlys, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(
			Event Player.Heal_Friendlys, Current Array Element))) == True;
		Hero Of(Event Player) != Hero(Zenyatta);
		Hero Being Duplicated(Event Player) != Hero(Zenyatta);
	}

	actions
	{
		If(Hero Being Duplicated(Event Player) == Hero(Mercy) || Hero Of(Event Player) == Hero(Mercy));
			Set Weapon(Event Player, 1);
		End;
		Press Button(Event Player, Button(Secondary Fire));
		Event Player.Current_Heal_Friendlys = Random Value In Array(Event Player.Heal_Friendlys);
		If(Event Player.Current_Heal_Friendlys == Button(Ability 1));
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Ability1_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Ability1_Min, 22);
		Else If(Event Player.Current_Heal_Friendlys == Button(Ability 2));
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Ability2_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Ability2_Min, 20);
		Else If(Event Player.Current_Heal_Friendlys == Button(Primary Fire));
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Primary_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Primary_Min, 18);
		Else If(Event Player.Current_Heal_Friendlys == Button(Secondary Fire));
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Secondary_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Secondary_Min, 16);
		End;
		If(Array Contains(Event Player.Hold, Event Player.Current_Heal_Friendlys) == True);
			Start Holding Button(Event Player, Event Player.Current_Heal_Friendlys);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Heal_Friendlys) > 0 || !Entity Exists(First Of(
				Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)), Barriers Do Not Block LOS), Event Player.Charging_Time == 0 ? 3 : Event Player.Charging_Time);
			Stop Holding Button(Event Player, Event Player.Current_Heal_Friendlys);
		Else If(Array Contains(Event Player.Confirm, Event Player.Current_Heal_Friendlys) == True);
			Press Button(Event Player, Event Player.Current_Heal_Friendlys);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Event Player.Current_Heal_Friendlys) == True);
			Press Button(Event Player, Event Player.Current_Heal_Friendlys);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Heal_Friendlys) > 0 || !Entity Exists(First Of(
				Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)), Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Event Player.Current_Heal_Friendlys);
		Else;
			Press Button(Event Player, Event Player.Current_Heal_Friendlys);
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Stop Primary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		((Team Of(First Of(Event Player.Target_Order)) == Team Of(Event Player) && !Array Contains(Event Player.Heal_Friendlys, Button(
			Primary Fire))) || !Entity Exists(First Of(Event Player.Target_Order)) || Distance Between(Position Of(Event Player), First Of(
			Event Player.Target_Order)) <= Event Player.Primary_Min || !Is In Line of Sight(Eye Position(Event Player), Eye Position(
			First Of(Event Player.Target_Order)), Barriers Do Not Block LOS) || Distance Between(Position Of(Event Player), First Of(
			Event Player.Target_Order)) > Event Player.Primary_Max) == True;
		(Is True For Any(Array(Hero(D.Va), Hero(Illari)), (Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player)) == Current Array Element) ? Is Button Held(Event Player, Button(Primary Fire)) : Is Firing Primary(
			Event Player)) == True;
	}

	actions
	{
		Stop Holding Button(Event Player, Button(Primary Fire));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Fire Primary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) != True;
		(Is True For Any(Array(Hero(D.Va), Hero(Illari)), (Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player)) == Current Array Element) ? Is Button Held(Event Player, Button(Primary Fire)) : Is Firing Primary(
			Event Player)) != True;
		Event Player.Primary_Max > 0;
		Is Alive(Event Player) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Team Of(Event Player) != Team Of(First Of(Event Player.Target_Order));
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Distance Between(Position Of(Event Player), First Of(Event Player.Target_Order)) > Event Player.Primary_Min;
		Distance Between(Position Of(Event Player), First Of(Event Player.Target_Order)) <= Event Player.Primary_Max;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 1);
		Event Player.Aim_Arc = Global.Primary_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		Wait(Max(Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player) + Facing Direction Of(
			Event Player) * Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))), Null,
			All Players(All Teams), False), Eye Position(First Of(Event Player.Target_Order))) / 320, 0.250), Abort When False);
		If(Hero Being Duplicated(Event Player) == Hero(Mercy) || Hero Of(Event Player) == Hero(Mercy));
			Set Weapon(Event Player, 2);
		End;
		If(Array Contains(Event Player.Charging, Button(Primary Fire)) == True);
			While(Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
				&& Entity Exists(First Of(Event Player.Target_Order)) && Is Alive(Event Player) && Distance Between(Position Of(Event Player),
				First Of(Event Player.Target_Order)) > Event Player.Primary_Min && Distance Between(Position Of(Event Player), First Of(
				Event Player.Target_Order)) <= Event Player.Primary_Max);
				If(Array Contains(Event Player.Hold, Button(Primary Fire)) == True);
					Start Holding Button(Event Player, Button(Primary Fire));
					Wait(Event Player.Charging_Time, Ignore Condition);
					Stop Holding Button(Event Player, Button(Primary Fire));
				Else;
					Wait(Event Player.Charging_Time, Ignore Condition);
					Press Button(Event Player, Button(Primary Fire));
				End;
			End;
		Else;
			Start Holding Button(Event Player, Button(Primary Fire));
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Stop Secondary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Lifeweaver) || Hero Of(Event Player) == Hero(Lifeweaver) ? Is Firing Primary(
			Event Player) && Is In Alternate Form(Event Player) : Is Firing Secondary(Event Player)) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		((Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) ? Team Of(Event Player) : Opposite Team Of(Team Of(
			Event Player))) != Team Of(First Of(Event Player.Target_Order)) || !Entity Exists(First Of(Event Player.Target_Order))
			|| Distance Between(Position Of(Event Player), First Of(Event Player.Target_Order))
			< Event Player.Secondary_Min || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
			Event Player.Target_Order)), Barriers Do Not Block LOS) || Distance Between(Position Of(Event Player), First Of(
			Event Player.Target_Order)) > Event Player.Secondary_Max) == True;
	}

	actions
	{
		Stop Holding Button(Event Player, Button(Secondary Fire));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Fire Secondary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Lifeweaver) || Hero Of(Event Player) == Hero(Lifeweaver) ? !Is Firing Primary(
			Event Player) : !Is Firing Secondary(Event Player)) == True;
		Event Player.Secondary_Max > 0;
		Is Alive(Event Player) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		(Array Contains(Event Player.Heal_Friendlys, Button(Secondary Fire)) ? Team Of(Event Player) : Opposite Team Of(Team Of(
			Event Player))) == Team Of(First Of(Event Player.Target_Order));
		Distance Between(Position Of(Event Player), First Of(Event Player.Target_Order)) > Event Player.Secondary_Min;
		Distance Between(Position Of(Event Player), First Of(Event Player.Target_Order)) < Event Player.Secondary_Max;
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 1);
		Event Player.Aim_Arc = Global.Secondary_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		Wait(Max(Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player) + Facing Direction Of(
			Event Player) * Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))), Null,
			All Players(All Teams), False), Eye Position(First Of(Event Player.Target_Order))) / 320, 0.250), Abort When False);
		If(Array Contains(Event Player.Charging, Button(Secondary Fire)) == True);
			While(Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
				&& Entity Exists(First Of(Event Player.Target_Order)) && Is Alive(Event Player) && Distance Between(Position Of(Event Player),
				First Of(Event Player.Target_Order)) > Event Player.Secondary_Min && Distance Between(Position Of(Event Player), First Of(
				Event Player.Target_Order)) <= Event Player.Secondary_Max);
				If(Array Contains(Event Player.Hold, Button(Secondary Fire)) == True);
					Start Holding Button(Event Player, Button(Secondary Fire));
					Wait(Event Player.Charging_Time, Ignore Condition);
					Stop Holding Button(Event Player, Button(Secondary Fire));
				Else;
					Wait(Event Player.Charging_Time, Ignore Condition);
					Press Button(Event Player, Button(Secondary Fire));
				End;
			End;
		Else;
			Start Holding Button(Event Player, Button(Secondary Fire));
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Offensive Ability")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Offensive != Empty Array;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Team Of(Event Player) != Team Of(First Of(Event Player.Target_Order));
		Is Alive(Event Player) == True;
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Is In View Angle(Event Player, Eye Position(First Of(Event Player.Target_Order)), 15) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Offensive, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Offensive, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Offensive, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(Event Player.Offensive,
			Current Array Element))) == True;
	}

	actions
	{
		Event Player.Current_Offensive = Random Value In Array(Event Player.Offensive);
		Skip If(!Array Contains(Event Player.Use_If_Shield, Event Player.Current_Offensive) && !Is In Line of Sight(Eye Position(
			Event Player), Eye Position(First Of(Event Player.Target_Order)), Enemy Barriers Block LOS), 38);
		If(Event Player.Current_Offensive == Button(Ability 1));
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Ability1_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Ability1_Min, 36);
		Else;
			Skip If(Distance Between(Event Player, First Of(Event Player.Target_Order)) > Event Player.Ability2_Max || Distance Between(
				Event Player, First Of(Event Player.Target_Order)) < Event Player.Ability2_Min, 34);
		End;
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = (Event Player.Current_Mobility == Button(Ability 1) ? Global.Ability1_Arc : Global.Ability2_Arc)
			[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player))];
		Wait(Max(Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player) + Facing Direction Of(
			Event Player) * Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))), Null,
			All Players(All Teams), False), Eye Position(First Of(Event Player.Target_Order))) / 320, 0.250), Abort When False);
		If(Hero Being Duplicated(Event Player) == Hero(Orisa) || Hero Of(Event Player) == Hero(Orisa));
			Stop Facing(Event Player);
			Start Facing(Event Player, Direction From Angles(Horizontal Facing Angle Of(Event Player), 20), Has Status(Event Player,
				Knocked Down) || Has Status(Event Player, Asleep) || Has Status(Event Player, Frozen) || Has Status(Event Player, Stunned)
				? 0 : 320, To World, Direction and Turn Rate);
			Wait(0.100, Ignore Condition);
		End;
		If(Array Contains(Event Player.Hold, Event Player.Current_Offensive) == True);
			Start Holding Button(Event Player, Event Player.Current_Offensive);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Offensive) > 0 || !Entity Exists(First Of(
				Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)), Barriers Do Not Block LOS),
				Event Player.Charging_Time != Null ? Event Player.Charging_Time : 999999);
			Stop Holding Button(Event Player, Event Player.Current_Offensive);
		Else If(Array Contains(Event Player.Confirm, Event Player.Current_Offensive) == True);
			Press Button(Event Player, Event Player.Current_Offensive);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Event Player.Current_Offensive) == True);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Offensive) ? Is In Alternate Form(Event Player) : (
				Event Player.Current_Offensive == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player)), 2);
			Press Button(Event Player, Event Player.Current_Offensive);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Wait Until((Array Contains(Event Player.Alternative_Form, Event Player.Current_Offensive) ? !Is In Alternate Form(Event Player)
				: !(Event Player.Current_Offensive == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player)))
				|| !Entity Exists(First Of(Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(
				Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS), 9999);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? !Is In Alternate Form(Event Player) : (
				Event Player.Current_Mobility == Button(Ability 1) ? !Is Using Ability 1(Event Player) : !Is Using Ability 2(Event Player)),
				1);
			Press Button(Event Player, Event Player.Current_Offensive);
		Else;
			Press Button(Event Player, Event Player.Current_Offensive);
		End;
		Event Player.Can_Change_Arc = True;
		If(Hero Being Duplicated(Event Player) == Hero(Orisa) || Hero Of(Event Player) == Hero(Orisa));
			Wait(0.100, Ignore Condition);
			Stop Facing(Event Player);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict)), Vertical Angle From Direction(
				Direction Towards(Eye Position(Event Player), Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(
				First Of(Event Player.Target_Order)))) + Distance Between(Event Player, First Of(Event Player.Target_Order))
				* Event Player.Aim_Arc * -1) : (Magnitude Of(Throttle Of(Event Player)) > 0 ? Direction Towards(Eye Position(Event Player),
				Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Vector(
				X Component Of(Event Player.Walk_To_Position), Y Component Of(Eye Position(Event Player)), Z Component Of(
				Event Player.Walk_To_Position)) : Vector(X Component Of(Event Player.Current_Node), Y Component Of(Eye Position(Event Player)),
				Z Component Of(Event Player.Current_Node))) : Direction Towards(Eye Position(Event Player), Spawn Points(Opposite Team Of(
				Team Of(Event Player))))), Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Defence Ability")
{
	event
	{
		Player Took Damage;
		All;
		All;
	}

	conditions
	{
		Event Player.Defensive != Empty Array;
		Is Alive(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Defensive, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Defensive, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Defensive, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(Event Player.Defensive,
			Current Array Element))) == True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = (Event Player.Current_Mobility == Button(Ability 1) ? Global.Ability1_Arc : Global.Ability2_Arc)
			[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player))];
		Event Player.Current_Defensive = Random Value In Array(Event Player.Defensive);
		If(Hero Being Duplicated(Event Player) == Hero(Baptiste) || Hero Of(Event Player) == Hero(Baptiste));
			Stop Facing(Event Player);
			Start Facing(Event Player, Down, Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
			Wait(0.100, Ignore Condition);
		Else If(Hero Being Duplicated(Event Player) == Hero(Mei) || Hero Of(Event Player) == Hero(Mei));
			Stop Facing(Event Player);
			Start Facing(Event Player, Direction From Angles(Horizontal Facing Angle Of(Event Player), 10), Has Status(Event Player,
				Knocked Down) || Has Status(Event Player, Asleep) || Has Status(Event Player, Frozen) || Has Status(Event Player, Stunned)
				? 0 : 320, To World, Direction and Turn Rate);
			Wait(0.100, Ignore Condition);
		End;
		If(Array Contains(Event Player.Hold, Event Player.Current_Defensive) == True);
			Start Holding Button(Event Player, Event Player.Current_Defensive);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Defensive) > 0 || !Entity Exists(First Of(
				Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)), Barriers Do Not Block LOS), 2.500);
			Stop Holding Button(Event Player, Event Player.Current_Defensive);
		Else If(Array Contains(Event Player.Confirm, Event Player.Current_Defensive) == True);
			Press Button(Event Player, Event Player.Current_Defensive);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Event Player.Current_Defensive) == True);
			Press Button(Event Player, Event Player.Current_Defensive);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Defensive) > 0 || !Entity Exists(First Of(
				Event Player.Target_Order)) || Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)), Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Event Player.Current_Defensive);
		Else;
			Press Button(Event Player, Event Player.Current_Defensive);
		End;
		If(Hero Being Duplicated(Event Player) == Hero(Mei) || Hero Of(Event Player) == Hero(Mei) || Hero Being Duplicated(Event Player)
			== Hero(Baptiste) || Hero Of(Event Player) == Hero(Baptiste));
			Wait(0.100, Ignore Condition);
			Stop Facing(Event Player);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict)), Vertical Angle From Direction(
				Direction Towards(Eye Position(Event Player), Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(
				First Of(Event Player.Target_Order)))) + Distance Between(Event Player, First Of(Event Player.Target_Order))
				* Event Player.Aim_Arc * -1) : (Magnitude Of(Throttle Of(Event Player)) > 0 ? Direction Towards(Eye Position(Event Player),
				Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Vector(
				X Component Of(Event Player.Walk_To_Position), Y Component Of(Eye Position(Event Player)), Z Component Of(
				Event Player.Walk_To_Position)) : Vector(X Component Of(Event Player.Current_Node), Y Component Of(Eye Position(Event Player)),
				Z Component Of(Event Player.Current_Node))) : Direction Towards(Eye Position(Event Player), Spawn Points(Opposite Team Of(
				Team Of(Event Player))))), Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
		End;
		Event Player.Can_Change_Arc = True;
	}
}

rule("Use Mobility")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Magnitude Of(Throttle Of(Event Player)) != 0;
		Event Player.Mobility != Empty Array;
		Is Alive(Event Player) == True;
		(!Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			|| !Entity Exists(First Of(Event Player.Target_Order))) == True;
		Distance Between(Position Of(Event Player), Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position,
			Barriers Do Not Block LOS) ? Event Player.Walk_To_Position : Event Player.Current_Node) > Max(Event Player.Mobility_Distance,
			Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 2 : 0);
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Mobility, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Mobility, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Mobility, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(Event Player.Mobility,
			Current Array Element))) == True;
	}

	actions
	{
		Skip If(Ray Cast Hit Position(Eye Position(Event Player) + Direction From Angles(Horizontal Facing Angle Of(Event Player), 0)
			* Event Player.Mobility_Distance, Eye Position(Event Player) + Direction From Angles(Horizontal Facing Angle Of(Event Player),
			0) * Event Player.Mobility_Distance - Vector(0, 5, 0), Null, All Players(All Teams), False) == Eye Position(Event Player)
			+ Direction From Angles(Horizontal Facing Angle Of(Event Player), 0) * Event Player.Mobility_Distance - Vector(0, 5, 0), 24);
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = (Event Player.Current_Mobility == Button(Ability 1) ? Global.Ability1_Arc : Global.Ability2_Arc)
			[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player))];
		Event Player.Current_Mobility = Random Value In Array(Event Player.Mobility);
		If(Array Contains(Event Player.Hold, Event Player.Current_Mobility) == True);
			Start Holding Button(Event Player, Event Player.Current_Mobility);
			Wait Until(Is Dead(Event Player) || Entity Exists(First Of(Event Player.Target_Order)) || Distance Between(Position Of(
				Event Player), Event Player.Walk_To_Position) < Event Player.Mobility_Distance, 9999);
			Stop Holding Button(Event Player, Event Player.Current_Mobility);
		Else If(Array Contains(Event Player.Confirm, Event Player.Current_Mobility) == True);
			Press Button(Event Player, Event Player.Current_Mobility);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Event Player.Current_Mobility) == True);
			Wait Until(!Entity Exists(First Of(Event Player.Target_Order)), 99999);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? Is In Alternate Form(Event Player) : (
				Event Player.Current_Mobility == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player)), 2);
			Press Button(Event Player, Event Player.Current_Mobility);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Wait Until((Entity Exists(First Of(Event Player.Target_Order)) && Is In Line of Sight(Eye Position(Event Player), Eye Position(
				Event Player.Target_Order), Barriers Do Not Block LOS)) || (Distance Between(Event Player, Event Player.Walk_To_Position) < 2)
				|| (Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? !Is In Alternate Form(Event Player) : !(
				Event Player.Current_Mobility == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player))),
				9999);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? !Is In Alternate Form(Event Player) : (
				Event Player.Current_Mobility == Button(Ability 1) ? !Is Using Ability 1(Event Player) : !Is Using Ability 2(Event Player)),
				1);
			Press Button(Event Player, Event Player.Current_Mobility);
		Else;
			Press Button(Event Player, Event Player.Current_Mobility);
		End;
		Event Player.Can_Change_Arc = True;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Heal Ability")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Healing != Empty Array;
		Normalized Health(Event Player) < (Entity Exists(First Of(Event Player.Target_Order)) ? 0.500 : 1);
		Is Alive(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Healing, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Healing, Current Array Element)) && (Array Contains(
			Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element) > 0 : Array Contains(
			Event Player.Healing, Current Array Element)) && (Array Contains(Event Player.Resource, Current Array Element)
			? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(Event Player.Healing, Current Array Element)))
			== True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = (Event Player.Current_Mobility == Button(Ability 1) ? Global.Ability1_Arc : Global.Ability2_Arc)
			[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(
			Event Player))];
		Event Player.Current_Healing = Random Value In Array(Event Player.Healing);
		If(Hero Being Duplicated(Event Player) == Hero(Ana) || Hero Of(Event Player) == Hero(Ana));
			Stop Facing(Event Player);
			Start Facing(Event Player, Down, Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
			Wait(0.100, Ignore Condition);
		End;
		If(Array Contains(Event Player.Hold, Event Player.Current_Healing) == True);
			Start Holding Button(Event Player, Event Player.Current_Healing);
			Wait Until(Ability Cooldown(Event Player, Event Player.Current_Healing) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 3);
			Stop Holding Button(Event Player, Event Player.Current_Healing);
		Else If(Array Contains(Event Player.Confirm, Event Player.Current_Healing) == True);
			Press Button(Event Player, Event Player.Current_Healing);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Event Player.Current_Healing) == True);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? Is In Alternate Form(Event Player) : (
				Event Player.Current_Mobility == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player)), 2);
			Press Button(Event Player, Event Player.Current_Healing);
			Wait(Event Player.Charging_Time, Ignore Condition);
			Wait Until((Entity Exists(First Of(Event Player.Target_Order)) && Is In Line of Sight(Eye Position(Event Player), Eye Position(
				Event Player.Target_Order), Barriers Do Not Block LOS)) || (Health(Event Player) == Max Health(Event Player)) || (
				Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? !Is In Alternate Form(Event Player) : !(
				Event Player.Current_Mobility == Button(Ability 1) ? Is Using Ability 1(Event Player) : Is Using Ability 2(Event Player))),
				9999);
			Skip If(Array Contains(Event Player.Alternative_Form, Event Player.Current_Mobility) ? !Is In Alternate Form(Event Player) : (
				Event Player.Current_Mobility == Button(Ability 1) ? !Is Using Ability 1(Event Player) : !Is Using Ability 2(Event Player)),
				1);
			Press Button(Event Player, Event Player.Current_Healing);
		Else;
			Press Button(Event Player, Event Player.Current_Healing);
		End;
		If(Hero Being Duplicated(Event Player) == Hero(Ana) || Hero Of(Event Player) == Hero(Ana));
			Wait(0.100, Ignore Condition);
			Stop Facing(Event Player);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict)), Vertical Angle From Direction(
				Direction Towards(Eye Position(Event Player), Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(
				First Of(Event Player.Target_Order)))) + Distance Between(Event Player, First Of(Event Player.Target_Order))
				* Event Player.Aim_Arc * -1) : (Magnitude Of(Throttle Of(Event Player)) > 0 ? Direction Towards(Eye Position(Event Player),
				Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Vector(
				X Component Of(Event Player.Walk_To_Position), Y Component Of(Eye Position(Event Player)), Z Component Of(
				Event Player.Walk_To_Position)) : Vector(X Component Of(Event Player.Current_Node), Y Component Of(Eye Position(Event Player)),
				Z Component Of(Event Player.Current_Node))) : Direction Towards(Eye Position(Event Player), Spawn Points(Opposite Team Of(
				Team Of(Event Player))))), Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
		End;
		Event Player.Can_Change_Arc = True;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Ultimate")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Ultimate Charge Percent(Event Player) == 100;
		Normalized Health(Event Player) <= Event Player.Ultimate_Health;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is Alive(Event Player) == True;
		Count Of(Filtered Array(Event Player.Target_Order, Team Of(First Of(Event Player.Target_Order))
			== Event Player.Ultimate_Target_Team && Distance Between(Event Player, First Of(Event Player.Target_Order))
			< Event Player.Use_Ultimate_Max && Is In Line of Sight(Eye Position(Event Player), Eye Position(Current Array Element),
			Barriers Do Not Block LOS))) >= Min(Event Player.Ultimate_Targets, Number Of Players(Opposite Team Of(Team Of(Event Player))));
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = Global.Ultimate_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		Wait(Max(Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player) + Facing Direction Of(
			Event Player) * Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))), Null,
			All Players(All Teams), False), Eye Position(First Of(Event Player.Target_Order))) / 320, 0.250), Abort When False);
		Skip If(Hero Being Duplicated(Event Player) == Hero(D.Va) || Hero Of(Event Player) == Hero(D.Va) || (Hero Of(Event Player) == Hero(
			Echo) && !Is Duplicating(Event Player)), 2);
		Event Player.Primary_Max = Event Player.Ultimate_Max;
		Event Player.Primary_Min = Event Player.Ultimate_Min;
		If(Hero Being Duplicated(Event Player) == Hero(Baptiste) || Hero Of(Event Player) == Hero(Baptiste));
			Stop Facing(Event Player);
			Start Facing(Event Player, Direction From Angles(Horizontal Facing Angle Of(Event Player), 10), Has Status(Event Player,
				Knocked Down) || Has Status(Event Player, Asleep) || Has Status(Event Player, Frozen) || Has Status(Event Player, Stunned)
				? 0 : 320, To World, Direction and Turn Rate);
			Wait(0.100, Ignore Condition);
		End;
		If(Array Contains(Event Player.Hold, Button(Ultimate)) == True);
			Start Holding Button(Event Player, Button(Ultimate));
			Wait Until(!Is Using Ultimate(Event Player) || !Entity Exists(First Of(Event Player.Target_Order)) || Is Dead(Event Player)
				|| !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Stop Holding Button(Event Player, Button(Ultimate));
		Else If(Array Contains(Event Player.Confirm, Button(Ultimate)) == True);
			Press Button(Event Player, Button(Ultimate));
			Wait(Max(Event Player.Charging_Time, 2.500), Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Button(Ultimate)) == True);
			Press Button(Event Player, Button(Ultimate));
			Wait Until(!Is Using Ultimate(Event Player) || !Entity Exists(First Of(Event Player.Target_Order)) || Is Dead(Event Player)
				|| !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Button(Ultimate));
		Else;
			Press Button(Event Player, Button(Ultimate));
		End;
		Wait Until(Is Dead(Event Player), Max(Event Player.Ultimate_Duration, 1));
		Event Player.Primary_Max = Global.Primary_Max[Index Of Array Value(Global.All_Heros, Hero Of(Event Player))];
		Event Player.Primary_Min = Global.Primary_Min[Index Of Array Value(Global.All_Heros, Hero Of(Event Player))];
		Event Player.Can_Change_Arc = True;
		If(Hero Being Duplicated(Event Player) == Hero(Baptiste) || Hero Of(Event Player) == Hero(Baptiste));
			Wait(0.100, Ignore Condition);
			Stop Facing(Event Player);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict)), Vertical Angle From Direction(
				Direction Towards(Eye Position(Event Player), Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(
				First Of(Event Player.Target_Order)))) + Distance Between(Event Player, First Of(Event Player.Target_Order))
				* Event Player.Aim_Arc * -1) : (Magnitude Of(Throttle Of(Event Player)) > 0 ? Direction Towards(Eye Position(Event Player),
				Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Vector(
				X Component Of(Event Player.Walk_To_Position), Y Component Of(Eye Position(Event Player)), Z Component Of(
				Event Player.Walk_To_Position)) : Vector(X Component Of(Event Player.Current_Node), Y Component Of(Eye Position(Event Player)),
				Z Component Of(Event Player.Current_Node))) : Direction Towards(Eye Position(Event Player), Spawn Points(Opposite Team Of(
				Team Of(Event Player))))), Has Status(Event Player, Knocked Down) || Has Status(Event Player, Asleep) || Has Status(
				Event Player, Frozen) || Has Status(Event Player, Stunned) ? 0 : 320, To World, Direction and Turn Rate);
		End;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Offensive Secondary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Secondary_Offensive != Empty Array;
		Team Of(Event Player) != Team Of(First Of(Event Player.Target_Order));
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Is In View Angle(Event Player, Eye Position(First Of(Event Player.Target_Order)), 15) == True;
		Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))) <= Event Player.Secondary_Max;
		Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))) >= Event Player.Secondary_Min;
		Is Alive(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Secondary_Offensive, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Secondary_Offensive, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Secondary_Offensive, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(
			Event Player.Secondary_Offensive, Current Array Element))) == True;
	}

	actions
	{
		Skip If(!Array Contains(Event Player.Use_If_Shield, Button(Secondary Fire)) && !Is In Line of Sight(Eye Position(Event Player),
			Eye Position(First Of(Event Player.Target_Order)), Enemy Barriers Block LOS), 20);
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = Global.Secondary_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		Wait(Max(Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player) + Facing Direction Of(
			Event Player) * Distance Between(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))), Null,
			All Players(All Teams), False), Eye Position(First Of(Event Player.Target_Order))) / 320, 0.250), Abort When False);
		If(Array Contains(Event Player.Hold, Button(Secondary Fire)) == True);
			Start Holding Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), Event Player.Charging_Time != Null ? Event Player.Charging_Time : 999999);
			Stop Holding Button(Event Player, Button(Secondary Fire));
		Else If(Array Contains(Event Player.Confirm, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Button(Secondary Fire));
		Else;
			Press Button(Event Player, Button(Secondary Fire));
		End;
		Event Player.Can_Change_Arc = True;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Defence Secondary")
{
	event
	{
		Player Took Damage;
		All;
		All;
	}

	conditions
	{
		Event Player.Secondary_Defensive != Empty Array;
		Is Alive(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Secondary_Defensive, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Secondary_Defensive, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Secondary_Defensive, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(
			Event Player.Secondary_Defensive, Current Array Element))) == True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = Global.Secondary_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		If(Array Contains(Event Player.Hold, Button(Secondary Fire)) == True);
			Start Holding Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Stop Holding Button(Event Player, Button(Secondary Fire));
		Else If(Array Contains(Event Player.Confirm, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Button(Secondary Fire));
		Else;
			Press Button(Event Player, Button(Secondary Fire));
		End;
		Event Player.Can_Change_Arc = True;
	}
}

rule("Use Heal Secondary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Secondary_Healing != Empty Array;
		Normalized Health(Event Player) < (Entity Exists(First Of(Event Player.Target_Order)) ? 0.500 : 1);
		Is Alive(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Is True For Any(Event Player.Secondary_Healing, (Array Contains(Event Player.Cooldown, Current Array Element) ? Ability Cooldown(
			Event Player, Current Array Element) == Null : Array Contains(Event Player.Secondary_Healing, Current Array Element)) && (
			Array Contains(Event Player.Charge, Current Array Element) ? Ability Charge(Event Player, Current Array Element)
			> 0 : Array Contains(Event Player.Secondary_Healing, Current Array Element)) && (Array Contains(Event Player.Resource,
			Current Array Element) ? Ability Resource(Event Player, Current Array Element) > 25 : Array Contains(
			Event Player.Secondary_Healing, Current Array Element))) == True;
	}

	actions
	{
		Skip If(!Event Player.Can_Change_Arc, 2);
		Event Player.Can_Change_Arc = False;
		Event Player.Aim_Arc = Global.Secondary_Arc[Index Of Array Value(Global.All_Heros, Is Duplicating(Event Player)
			? Hero Being Duplicated(Event Player) : Hero Of(Event Player))];
		If(Array Contains(Event Player.Hold, Button(Secondary Fire)) == True);
			Wait Until(!Entity Exists(First Of(Event Player.Target_Order)), 99999);
			Start Holding Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Stop Holding Button(Event Player, Button(Secondary Fire));
		Else If(Array Contains(Event Player.Confirm, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait(Event Player.Charging_Time, Ignore Condition);
			Press Button(Event Player, Button(Primary Fire));
		Else If(Array Contains(Event Player.Toggle, Button(Secondary Fire)) == True);
			Press Button(Event Player, Button(Secondary Fire));
			Wait Until(Ability Cooldown(Event Player, Button(Secondary Fire)) > 0 || !Entity Exists(First Of(Event Player.Target_Order))
				|| Is Dead(Event Player) || !Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)),
				Barriers Do Not Block LOS), 2.500);
			Press Button(Event Player, Button(Secondary Fire));
		Else;
			Press Button(Event Player, Button(Secondary Fire));
		End;
		Event Player.Can_Change_Arc = True;
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Swap Hero If Duplicate Hero")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Hero Of(Event Player) == Event Player.Hero;
		Number Of Heroes(Hero Of(Event Player), Team Of(Event Player)) > Workshop Setting Integer(Custom String("AI"), Custom String(
			"Max Dupicate Heros"), 1, 1, 24, 14);
		Is In Setup == True;
	}

	actions
	{
		Wait(Random Real(0, 1), Abort When False);
		Event Player.Hero = Random Value In Array(Filtered Array(Team Of(Event Player)
			== Team 2 ? Global.T2_Available_Heros : Global.T1_Available_Heros, Array Contains(Event Player.Hero_Pool,
			Current Array Element)));
		Start Forcing Player To Be Hero(Event Player, Event Player.Hero);
		If(Team Of(Event Player) == Team 2);
			Modify Global Variable(T2_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
		Else;
			Modify Global Variable(T1_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
		End;
		Call Subroutine(Hero_Variables);
		Event Player.Ultimates_Used = Player Stat(Event Player, Ultimates Used);
	}
}

rule("Swap Hero If Not Correct Hero")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Hero Of(Event Player) != Event Player.Hero;
		Global.Mode_Type != 0;
	}

	actions
	{
		Wait(0.100, Abort When False);
		If(Team Of(Event Player) == Team 2);
			Modify Global Variable(T2_Available_Heros, Append To Array, Hero Of(Event Player));
		Else;
			Modify Global Variable(T1_Available_Heros, Append To Array, Hero Of(Event Player));
		End;
		Start Forcing Player To Be Hero(Event Player, Event Player.Hero);
		If(Team Of(Event Player) == Team 2);
			Modify Global Variable(T2_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
		Else;
			Modify Global Variable(T1_Available_Heros, Remove From Array By Value, Hero Of(Event Player));
		End;
		Call Subroutine(Hero_Variables);
		Event Player.Ultimates_Used = Player Stat(Event Player, Ultimates Used);
		Wait(3, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Use Passive Ability")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Event Player.Passive != Custom String("None");
		Is Alive(Event Player) == True;
		Has Spawned(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Team Of(First Of(Event Player.Target_Order)) != Team Of(Event Player);
		(Event Player.Passive == Custom String("Eject") ? Is In Alternate Form(Event Player) : (Event Player.Passive == Custom String(
			"Exo Boots") || Event Player.Passive == Custom String("Hover Jets") || Event Player.Passive == Custom String("Glide")
			? Entity Exists(First Of(Event Player.Target_Order)) : Is Dead(Event Player))) == True;
	}

	actions
	{
		If(Event Player.Passive == Custom String("Eject"));
			Event Player.Primary_Max = 25;
			Event Player.Primary_Min = 0;
			Event Player.Ultimate_Health = 1;
			Event Player.Ultimate_Targets = 0;
			Event Player.Offensive = Empty Array;
			Event Player.Defensive = Empty Array;
			Event Player.Mobility = Empty Array;
			Event Player.Healing = Empty Array;
			Event Player.Secondary_Fire = Empty Array;
			Event Player.Secondary_Offensive = Empty Array;
			Event Player.Secondary_Defensive = Empty Array;
			Event Player.Secondary_Healing = Empty Array;
			Event Player.Hold = Empty Array;
			Event Player.Confirm = Empty Array;
			Event Player.Toggle = Empty Array;
			Event Player.Cooldown = Empty Array;
			Event Player.Charge = Empty Array;
			Event Player.Resource = Empty Array;
			Event Player.Charging = Empty Array;
			Event Player.Heal_Friendlys = Empty Array;
			Wait Until(!Is In Alternate Form(Event Player), 99999);
			Call Subroutine(Hero_Variables);
		Else If(Event Player.Passive == Custom String("Exo Boots"));
			Wait Until(Is On Ground(Event Player), 99999);
			Start Holding Button(Event Player, Button(Crouch));
			Wait Until(!Entity Exists(First Of(Event Player.Target_Order)), Event Player.Charging_Time);
			Stop Holding Button(Event Player, Button(Crouch));
			Skip If(!Entity Exists(First Of(Event Player.Target_Order)), 1);
			Press Button(Event Player, Button(Jump));
		Else If(Event Player.Passive == Custom String("Hover Jets"));
			Start Holding Button(Event Player, Button(Secondary Fire));
			Wait Until(!Entity Exists(First Of(Event Player.Target_Order)), 99999);
			Stop Holding Button(Event Player, Button(Secondary Fire));
		Else If(Event Player.Passive == Custom String("Glide"));
			Start Holding Button(Event Player, Button(Jump));
			Wait Until(!Entity Exists(First Of(Event Player.Target_Order)), 99999);
			Stop Holding Button(Event Player, Button(Jump));
		End;
	}
}

rule("Reload")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		((Max Ammo(Event Player, 0) > 0 && Ammo(Event Player, 0) == 0) || (Max Ammo(Event Player, 1) > 0 && Ammo(Event Player, 1) == 0))
			== True;
		Is Alive(Event Player) == True;
		Has Spawned(Event Player) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		!Is Reloading(Event Player) == True;
	}

	actions
	{
		Press Button(Event Player, Button(Reload));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

disabled rule("----------------------------------- AI ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

disabled rule("----------------------------------- Miscellaneous ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Duplicate Set Variables")
{
	event
	{
		Ongoing - Each Player;
		All;
		Echo;
	}

	conditions
	{
		Is Duplicating(Event Player) == True;
	}

	actions
	{
		Call Subroutine(Hero_Variables);
		Wait Until(!Is Duplicating(Event Player), 99999);
		Call Subroutine(Hero_Variables);
	}
}

rule("Widowmaker Primary Charge")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Widowmaker) || Hero Of(Event Player) == Hero(Widowmaker)) == True;
		Is Firing Secondary(Event Player) == True;
		(Array Contains(Event Player.Hold, Button(Primary Fire)) || !Array Contains(Event Player.Charging, Button(Primary Fire))) == True;
	}

	actions
	{
		Modify Player Variable(Event Player, Hold, Remove From Array By Value, Button(Primary Fire));
		Modify Player Variable(Event Player, Charging, Append To Array, Button(Primary Fire));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Widowmaker Primary Hold")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Widowmaker) || Hero Of(Event Player) == Hero(Widowmaker)) == True;
		Is Firing Secondary(Event Player) != True;
		(Array Contains(Event Player.Charging, Button(Primary Fire)) || !Array Contains(Event Player.Hold, Button(Primary Fire))) == True;
	}

	actions
	{
		Modify Player Variable(Event Player, Charging, Remove From Array By Value, Button(Primary Fire));
		Modify Player Variable(Event Player, Hold, Append To Array, Button(Primary Fire));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Lúcio Use Speed")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Lúcio) || Hero Of(Event Player) == Hero(Lúcio)) == True;
		Is In Alternate Form(Event Player) != True;
		Normalized Health(Event Player) > (Entity Exists(First Of(Event Player.Target_Order)) ? 0.500 : 1);
		Magnitude Of(Throttle Of(Event Player)) != 0;
		Distance Between(Position Of(Event Player), Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position,
			Barriers Do Not Block LOS) ? Event Player.Walk_To_Position : Event Player.Current_Node) > Max(Event Player.Mobility_Distance,
			Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? 2 : 0);
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Press Button(Event Player, Button(Ability 1));
		Wait(Event Player.Charging_Time, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Lúcio Use Heal")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Lúcio) || Hero Of(Event Player) == Hero(Lúcio)) == True;
		Is In Alternate Form(Event Player) == True;
		((Entity Exists(First Of(Event Player.Target_Order)) && Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(
			Event Player.Target_Order)), Barriers Do Not Block LOS) && Team Of(First Of(Event Player.Target_Order)) == Team Of(
			Event Player)) || (Normalized Health(Event Player) < 1) || Distance Between(Event Player, Event Player.Walk_To_Position) <= 2)
			== True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Press Button(Event Player, Button(Ability 1));
		Wait(Event Player.Charging_Time, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Mercy Resurrection")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Mercy) || Hero Of(Event Player) == Hero(Mercy)) == True;
		Ability Cooldown(Event Player, Button(Ability 2)) == Null;
		(Number Of Dead Players(Team Of(Event Player)) > 0 && Distance Between(Event Player, First Of(Sorted Array(All Dead Players(
			Team Of(Event Player)), Distance Between(Event Player, Current Array Element)))) < 2.500) == True;
		Is Alive(Event Player) == True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Press Button(Event Player, Button(Ability 2));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Ana / Mercy Weapon Damage")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		(Event Player.Current_Hero == Hero(Ana) || Event Player.Current_Hero == Hero(Mercy)) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) == True;
		Team Of(Event Player) != Team Of(First Of(Event Player.Target_Order));
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Set Weapon(Event Player, 2);
		Modify Player Variable(Event Player, Heal_Friendlys, Remove From Array By Value, Button(Primary Fire));
	}
}

rule("Ana / Mercy Weapon Heal")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		(Event Player.Current_Hero == Hero(Ana) || Event Player.Current_Hero == Hero(Mercy)) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) != True;
		Team Of(Event Player) == Team Of(First Of(Event Player.Target_Order));
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Set Weapon(Event Player, 1);
		Modify Player Variable(Event Player, Heal_Friendlys, Append To Array, Button(Primary Fire));
	}
}

rule("Mercy Enforce Currrent Weapon")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Has Spawned(Event Player) == True;
		Is Alive(Event Player) == True;
		Event Player.Current_Hero == Hero(Mercy);
		Weapon(Event Player) != (Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) ? 1 : 2);
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Set Weapon(Event Player, Array Contains(Event Player.Heal_Friendlys, Button(Primary Fire)) ? 1 : 2);
		Wait(1, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Zenyata Use Healing Orb")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Zenyatta) || Hero Of(Event Player) == Hero(Zenyatta)) == True;
		Is Alive(Event Player) == True;
		Entity Exists(First Of(Event Player.Target_Order)) == True;
		Team Of(First Of(Event Player.Target_Order)) == Team Of(Event Player);
		First Of(Event Player.Target_Order) != Event Player.Zen_Orb_Target;
		Is In Line of Sight(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order)), Barriers Do Not Block LOS)
			== True;
		Is Using Ultimate(Event Player) != True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Event Player.Zen_Orb_Target = First Of(Filtered Array(Sorted Array(Remove From Array(All Living Players(Team Of(Event Player)),
			Event Player), Distance Between(Ray Cast Hit Position(Eye Position(Event Player), Eye Position(Event Player)
			+ Facing Direction Of(Event Player) * 30, All Living Players(Team Of(Event Player)), Event Player, False),
			Current Array Element)), Is In Line of Sight(Eye Position(Event Player), Eye Position(Current Array Element),
			Barriers Do Not Block LOS) && Is In View Angle(Event Player, Eye Position(Current Array Element), 25)));
		Event Player.Zen_Orb_Hero = Hero Of(Event Player.Zen_Orb_Target);
		Press Button(Event Player, Button(Ability 1));
		Wait(Max(Server Load / 1000, 0.500), Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Zenyata Lose Healing Orb (Sight)")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Zenyatta) || Hero Of(Event Player) == Hero(Zenyatta)) == True;
		Entity Exists(Event Player.Zen_Orb_Target) == True;
		Is In Line of Sight(Eye Position(Event Player), Eye Position(Event Player.Zen_Orb_Target), Barriers Do Not Block LOS) != True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Wait(4, Abort When False);
		Event Player.Zen_Orb_Target = Null;
	}
}

rule("Zenyata Lose Healing Orb (Dead)")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Zenyatta) || Hero Of(Event Player) == Hero(Zenyatta)) == True;
		Entity Exists(Event Player.Zen_Orb_Target) == True;
		(Is Dead(Event Player) || Is Dead(Event Player.Zen_Orb_Target)) == True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Event Player.Zen_Orb_Target = Null;
	}
}

rule("Zenyata Lose Healing Orb (Hero Swap)")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		(Hero Being Duplicated(Event Player) == Hero(Zenyatta) || Hero Of(Event Player) == Hero(Zenyatta)) == True;
		Entity Exists(Event Player.Zen_Orb_Target) == True;
		(Hero Of(Event Player) != Hero(Zenyatta) || Hero Of(Event Player.Zen_Orb_Target) != Event Player.Zen_Orb_Hero) == True;
		Global.Use_Complex_Abilitys == True;
	}

	actions
	{
		Wait(0.500, Abort When False);
		Event Player.Zen_Orb_Target = Null;
	}
}

rule("Seen By Memory")
{
	event
	{
		Player Joined Match;
		All;
		All;
	}

	conditions
	{
		Workshop Setting Toggle(Custom String("AI"), Custom String("Memory"), True, 9) == True;
	}

	actions
	{
		Wait(1, Ignore Condition);
		Event Player.Seen_By_Memory = Is True For Any(All Living Players(Opposite Team Of(Team Of(Event Player))), Is In Line of Sight(
			Eye Position(Current Array Element), Eye Position(Event Player), Barriers Do Not Block LOS)) ? Workshop Setting Integer(
			Custom String("AI"), Custom String("Seen Target Memory"), 5, 0, 10, 10) : Max(Event Player.Seen_By_Memory - 1, 0);
		Event Player.Seen_By_Memory = Is Dead(Event Player) ? 0 : Event Player.Seen_By_Memory;
		Loop;
	}
}

rule("Create Bot")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		(Number Of Players(Team 1) < (Global.Mode_Type == 0 ? Global.Number_Of_Bots_T1 : 1) || Number Of Players(Team 2) < (
			Global.Mode_Type == 0 ? Global.Number_Of_Bots_T2 : 1)) == True;
	}

	actions
	{
		Wait(0.250, Ignore Condition);
		Skip If(Number Of Players(Team 1) >= Global.Number_Of_Bots_T1, 1);
		Create Dummy Bot(Random Value In Array(Filtered Array(Global.Bot_Hero_PoolsT1[Number Of Players(Team 1)], Array Contains(
			Global.Team1_Heros, Current Array Element))), Team 1, -1, Random Value In Array(Spawn Points(Team 1)), Vector(0, 0, 0));
		Skip If(Number Of Players(Team 2) >= Global.Number_Of_Bots_T2, 1);
		Create Dummy Bot(Random Value In Array(Filtered Array(Global.Bot_Hero_PoolsT2[Number Of Players(Team 2)], Array Contains(
			Global.Team2_Heros, Current Array Element))), Team 2, -1, Random Value In Array(Spawn Points(Team 2)), Vector(0, 0, 0));
		Loop If Condition Is True;
	}
}

rule("Remove Bot")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Number Of Players(Team 1) > Global.Number_Of_Bots_T1 || Number Of Players(Team 2) > Global.Number_Of_Bots_T2) == True;
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
	}

	actions
	{
		Wait(Random Real(1, 3), Abort When False);
		Skip If(Team Of(Event Player) == Team 2, 2);
		Skip If(Number Of Players(Team 1) == Global.Number_Of_Bots_T1, 1);
		Destroy Dummy Bot(Team Of(Event Player), Slot Of(Event Player));
		Skip If(Team Of(Event Player) == Team 1, 2);
		Skip If(Number Of Players(Team 2) == Global.Number_Of_Bots_T2, 1);
		Destroy Dummy Bot(Team Of(Event Player), Slot Of(Event Player));
		Loop If Condition Is True;
	}
}

rule("Refresh Bots")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		Is Assembling Heroes == True;
		Global.Mode_Type == 0;
	}

	actions
	{
		Destroy All Dummy Bots;
	}
}

rule("New Round Setup Heros")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		Is Between Rounds == True;
	}

	actions
	{
		Global.Team1_Heros = Filtered Array(Global.Team1_Heros, Is Hero Being Played(Current Array Element, Team 1) != True);
		Global.Team2_Heros = Filtered Array(Global.Team2_Heros, Is Hero Being Played(Current Array Element, Team 2) != True);
		Global.Limited_Heros = Randomized Array(Filtered Array(All Heroes, Array Contains(Global.Team1_Heros, Current Array Element)
			&& Array Contains(Global.Team2_Heros, Current Array Element)));
		Global.Limited_Heros = Filtered Array(Global.Limited_Heros, Current Array Index <= 2);
		Global.Mystery_Hero = Random Value In Array(Filtered Array(All Heroes, Array Contains(Global.Team1_Heros, Current Array Element)
			&& Array Contains(Global.Team2_Heros, Current Array Element)));
		Wait Until(!Is Between Rounds, 99999);
		Set Player Allowed Heroes(All Players(Team 1), Global.Mode_Type <= 1 ? Global.Team1_Heros : (
			Global.Mode_Type == 2 ? Global.Limited_Heros : (Global.Mode_Type == 3 ? Random Value In Array(Global.Team1_Heros)
			: Global.Mystery_Hero)));
		Set Player Allowed Heroes(All Players(Team 2), Global.Mode_Type <= 1 ? Global.Team2_Heros : (
			Global.Mode_Type == 2 ? Global.Limited_Heros : (Global.Mode_Type == 3 ? Random Value In Array(Global.Team2_Heros)
			: Global.Mystery_Hero)));
		All Players(All Teams).New_Hero = True;
		If(Global.Mode_Type == 2);
			Set Match Time(10);
		Else If(Global.Mode_Type >= 3);
			Set Match Time(0);
		End;
	}
}

disabled rule("----------------------------------- Miscellaneous ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

disabled rule("----------------------------------- Subroutine ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Global")
{
	event
	{
		Subroutine;
		Global_Setup;
	}

	actions
	{
		Global.T1_Available_Heros = Global.Vaild_heros;
		Global.T2_Available_Heros = Global.Vaild_heros;
		Global.Number_Of_Bots_T1 = Workshop Setting Integer(Custom String("AI"), Custom String("Amount Team 1"), 3, 0, 24, 12);
		Global.Number_Of_Bots_T2 = Workshop Setting Integer(Custom String("AI"), Custom String("Amount Team 2"), 3, 0, 24, 13);
		Global.Mode_Type = 0;
		Global.Team1_Heros = Global.Vaild_heros;
		Global.Team2_Heros = Global.Vaild_heros;
		Global.Limited_Heros = Randomized Array(Filtered Array(Global.Vaild_heros, Array Contains(Global.Team1_Heros,
			Current Array Element) && Array Contains(Global.Team2_Heros, Current Array Element)));
		Global.Limited_Heros = Filtered Array(Global.Limited_Heros, Current Array Index <= 2);
		Global.Mystery_Hero = Random Value In Array(Filtered Array(All Heroes, Array Contains(Global.Team1_Heros, Current Array Element)
			&& Array Contains(Global.Team2_Heros, Current Array Element)));
		Global.Slot1_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 1 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Global.Slot2_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 2 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Global.Slot3_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 3 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Global.Slot4_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 4 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Global.Slot5_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 5 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Global.Slot6_Role_Lock = Workshop Setting Combo(Custom String("Hero"), Custom String("Slot 6 Role"), 0, Array(Custom String("Any"),
			Custom String("Tank"), Custom String("DPS"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"),
			Custom String("Main Support"), Custom String("Off Support")), 0);
		Call Subroutine(Get_Roles);
	}
}

rule("Hero Values")
{
	event
	{
		Subroutine;
		Hero_Values;
	}

	actions
	{
		Global.All_Heros = Array(Hero(Reinhardt), Hero(Winston), Hero(Roadhog), Hero(Zarya), Hero(D.Va), Hero(Orisa), Hero(Wrecking Ball),
			Hero(Sigma), Hero(Mercy), Hero(Zenyatta), Hero(Lúcio), Hero(Ana), Hero(Brigitte), Hero(Moira), Hero(Baptiste), Hero(Reaper),
			Hero(Tracer), Hero(Hanzo), Hero(Torbjörn), Hero(Pharah), Hero(Widowmaker), Hero(Bastion), Hero(Symmetra), Hero(Genji), Hero(
			Cassidy), Hero(Junkrat), Hero(Soldier: 76), Hero(Mei), Hero(Sombra), Hero(Doomfist), Hero(Ashe), Hero(Echo), Hero(
			Junker Queen), Hero(Kiriko), Hero(Ramattra), Hero(Lifeweaver), Hero(Sojourn), Hero(Illari), Hero(Mauga));
		Global.Passive = Array(Custom String("Steadfast"), Custom String("None"), Custom String("None"), Custom String("Energy"),
			Custom String("Eject"), Custom String("None"), Custom String("None"), Custom String("None"), Custom String("Regeneration"),
			Custom String("None"), Custom String("Wall Ride"), Custom String("None"), Custom String("Inspire"), Custom String("None"),
			Custom String("Exo Boots"), Custom String("The Reaping"), Custom String("None"), Custom String("Wall Climb"), Custom String(
			"None"), Custom String("Hover Jets"), Custom String("None"), Custom String("Ironclad"), Custom String("None"), Custom String(
			"Cyber-Agility"), Custom String("None"), Custom String("Total Mayhem"), Custom String("None"), Custom String("None"),
			Custom String("Opportunist"), Custom String("The Best Defence"), Custom String("None"), Custom String("Glide"), Custom String(
			"Adrenaline Rush"), Custom String("Wall Climb"), Custom String("None"), Custom String("Parting Gift"), Custom String("None"),
			Custom String("Berserker"));
		Global.Primary_Max = Array(4, 8, 30, 14, 5, 40, 18, 18, 25, 20, 20, 35, 5, 15, 30, 8, 18, 30, 30, 30, 50, 40, 12, 20, 30, 30, 40,
			14, 25, 8, 40, 30, 25, 40, 50, 30, 40, 40, 40);
		Global.Primary_Min = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 6, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0);
		Global.Secondary_Max = Array(40, 30, 0, 30, 0, 35, 0, 0, 0, 50, 5, 35, 40, 20, 40, 0, 0, 0, 6, 0, 50, 35, 30, 6, 5, 8, 30, 40, 12,
			18, 40, 20, 15, 30, 20, 30, 50, 20, 20);
		Global.Secondary_Min = Array(5, 8, 0, 14, 0, 5, 0, 0, 0, 20, 0, 15, 7, 0, 0, 0, 0, 0, 0, 0, 10, 0, 12, 0, 0, 0, 4, 14, 6, 0, 10, 0,
			0, 0, 0, 0, 0, 0, 0);
		Global.Ability1_Max = Array(25, 20, 20, 0, 20, 0, 0, 0, 20, 30, 0, 15, 15, 0, 0, 0, 0, 30, 0, 0, 0, 25, 0, 12, 0, 8, 0, 0, 12, 20,
			0, 0, 0, 25, 10, 0, 0, 0, 8);
		Global.Ability1_Min = Array(0, 14, 6, 0, 6, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 4);
		Global.Ability2_Max = Array(30, 0, 12, 25, 30, 0, 0, 25, 6, 30, 0, 35, 15, 20, 30, 0, 0, 25, 20, 12, 10, 0, 0, 0, 6, 20, 0, 0, 0,
			0, 30, 12, 6, 20, 20, 25, 25, 0, 12);
		Global.Ability2_Min = Array(0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 0, 0, 0, 6, 0, 0, 0, 0,
			0, 0, 0, 0, 0);
		Global.Mobility_Distance = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 5, 0, 0, 0, 10, 0, 0, 0, 4, 0, 0, 0, 20, 0, 0, 5,
			0, 0, 0, 0, 12, 8, 20);
		Global.Charge_Time = Array(0, 1.500, 0, 0, 0, 4, 1, 1.200, 0, 4, 1, 0, 0, 0, 1, 0, 0, 1.200, 0, 0, 1.400, 2.500, 1.200, 0, 4, 0, 0,
			0, 0, 1.400, 0.100, 0, 0, 0, 0, 1, 0, 1, 0);
		Global.Use_Ultimate_Max = Array(20, 30, 15, 30, 25, 10, 15, 25, 25, 25, 25, 30, 25, 25, 30, 10, 6, 30, 30, 15, 100, 28, 30, 12, 40,
			15, 30, 25, 18, 8, 30, 30, 20, 30, 20, 30, 50, 30, 15);
		Global.Ultimate_Health = Array(1, 0.350, 1, 1, 1, 1, 1, 1, 1, 0.500, 0.600, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 0.350, 1, 1, 1, 1, 1, 1, 1);
		Global.Ultimate_Targets = Array(3, 1, 2, 3, 3, 3, 1, 3, 3, 3, 3, 1, 0, 2, 3, 2, 1, 2, 1, 2, 0, 1, 1, 1, 2, 1, 2, 2, 2, 1, 2, 1, 2,
			3, 2, 3, 2, 2, 2);
		Global.Ultimate_Target_Team = Array(0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 1, 0, 0, 0);
		Global.Ultimate_Max = Array(4, 4, 0, 14, 25, 25, 18, 24, 25, 20, 20, 35, 5, 20, 30, 0, 18, 30, 30, 0, 50, 25, 12, 6, 0, 0, 40, 14,
			25, 3, 40, 30, 25, 40, 50, 30, 30, 40, 40);
		Global.Ultimate_Min = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0);
		Global.Primary_Arc = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.500, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0);
		Global.Secondary_Arc = Array(0, 0, 0, 0.250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.400, 0, 0, 0, 0, 0, 0, 0.500, 0, 0, 0, 0.500, 0, 0, 0,
			0, 0, 0, 0.400, 0, 0, 0, 0, 0, 0);
		Global.Ability1_Arc = Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.500, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0);
		Global.Ability2_Arc = Array(0, 0, 0.600, 0, 0, 0, 0, 0.200, 0, 0, 0, 0.350, 0, 0, 0.400, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.500, 0, 0,
			0, 0, 0.400, 0, 0, 0.600, 0.600, 0, 0, 0, 0);
		Global.Ultimate_Arc = Array(0, 0, 0, 0.250, 0, 0, 0, -0.100, 0, 0, 0, 0, 0, 0, 0, 0, 0.050, 0, 0.500, 0, 0, 0, 0, 0, 0, 0.500, 0,
			0.200, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
		Global.Ultimate_Duration = Array(0, 10, 6, 0, 0, 12, 0, 0, 0, 6, 0, 0, 10, 8, 0, 4, 0, 0, 6, 4, 0, 6, 0, 6, 6, 0, 0, 0, 0, 4, 0,
			10, 3, 12, 15, 10, 0, 4, 10);
		Global.Aim_Predict_Scale = Array(10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
			10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10);
		Abort If(Global.Can_Hear == False);
		Global.Melee_Sound_Max = Array(10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
			10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10);
		Global.Primary_Sound_Max = Array(20, 20, 20, 20, 20, 30, 30, 30, 15, 20, 20, 15, 15, 25, 30, 20, 20, 0, 25, 30, 25, 30, 20, 20, 30,
			30, 30, 20, 20, 15, 25, 25, 25, 15, 20, 0, 25, 30, 30);
		Global.Secondary_Sound_Max = Array(0, 0, 30, 30, 15, 0, 0, 0, 15, 15, 15, 0, 0, 20, 30, 0, 0, 0, 20, 25, 0, 20, 12, 20, 30, 0, 30,
			15, 10, 15, 0, 25, 0, 15, 0, 20, 25, 18, 30);
		Global.Ability1_Sound_Max = Array(15, 25, 20, 0, 15, 0, 0, 15, 10, 0, 0, 15, 25, 15, 15, 15, 20, 0, 0, 25, 25, 0, 0, 25, 20, 0, 30,
			25, 0, 15, 20, 25, 25, 15, 30, 10, 20, 20, 15);
		Global.Ability2_Sound_Max = Array(30, 15, 15, 0, 20, 0, 0, 20, 10, 0, 15, 0, 15, 0, 0, 10, 10, 20, 20, 0, 0, 0, 0, 15, 15, 0, 0, 0,
			0, 20, 0, 20, 25, 25, 25, 20, 20, 0, 0);
		Global.Ultimate_Sound_Max = Array(0, 20, 30, 0, 0, 0, 0, 20, 20, 30, 0, 0, 25, 30, 0, 20, 0, 0, 20, 25, 0, 30, 0, 20, 15, 0, 25, 0,
			0, 0, 0, 0, 30, 30, 30, 30, 30, 40, 0);
		Global.Walking_Sound_Max = Array(30, 25, 30, 30, 30, 30, 30, 0, 20, 0, 25, 25, 30, 25, 25, 25, 20, 25, 30, 30, 25, 30, 25, 20, 25,
			25, 25, 25, 20, 30, 25, 0, 25, 20, 25, 25, 25, 25, 30);
		Global.Crouch_Walk_Sound_Max = Array(5, 5, 5, 5, 5, 5, 5, 0, 5, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,
			0, 5, 5, 5, 5, 5, 5, 5);
		Global.Hero_Pools = Array(All Heroes, All Tank Heroes, All Damage Heroes, All Support Heroes, Array(Hero(Reinhardt), Hero(Sigma),
			Hero(Orisa)), Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(Wrecking Ball), Hero(Zarya), Hero(Mauga)), Array(Hero(
			Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste)), Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari)));
	}
}

rule("Nodes Setup")
{
	event
	{
		Subroutine;
		Node_Setup;
	}

	actions
	{
		If(Current Map == Map(Black Forest) || Current Map == Map(Black Forest Winter));
			Call Subroutine(Black_Forest);
			Abort;
		End;
		If(Current Map == Map(Castillo));
			Call Subroutine(Castillo);
			Abort;
		End;
		If(Current Map == Map(Ecopoint: Antarctica) || Current Map == Map(Ecopoint: Antarctica Winter));
			Call Subroutine(Ecopoint_Antarctica);
			Abort;
		End;
		If(Current Map == Map(Ayutthaya));
			Call Subroutine(Ayutthaya);
			Abort;
		End;
	}
}

rule("Black Forest")
{
	event
	{
		Subroutine;
		Black_Forest;
	}

	actions
	{
		Global.Path_Nodes = Array(Vector(32.132, 13.550, -24.889), Vector(28.919, 13.550, -17.863), Vector(25.189, 13.549, -25.159),
			Vector(19.668, 13.166, -22.566), Vector(22.400, 12.992, -15.546), Vector(27.490, 13.628, -14.704), Vector(27.275, 18.550,
			-2.963), Vector(27.731, 18.525, -13.877), Vector(22.019, 18.497, -23.363), Vector(15.920, 18.546, -1.631), Vector(15.436,
			18.549, 2.262), Vector(11.476, 18.549, 5.333), Vector(15.962, 18.549, 7.717), Vector(15.833, 18.524, 12.857), Vector(27.810,
			18.550, 12.620), Vector(27.166, 18.521, 23.572), Vector(20.858, 18.493, 34.363), Vector(27.423, 13.428, 26.458), Vector(22.755,
			13.480, 33.743), Vector(28.218, 13.550, 36.067), Vector(30.741, 13.550, 29.105), Vector(35.763, 13.550, 36.967), Vector(5.010,
			18.550, 1.580), Vector(1.472, 18.549, 5.007), Vector(5.065, 18.550, 8.072), Vector(4.303, 13.827, 4.890), Vector(-2.378,
			19.466, 5.025), Vector(-2.582, 19.404, -3.942), Vector(-3.200, 19.369, 14.213), Vector(-6.971, 19.550, 28.567), Vector(-3.421,
			19.637, 26.359), Vector(-1.550, 19.612, 29.340), Vector(-6.844, 19.627, 18.664), Vector(-16.983, 19.640, 24.639), Vector(
			-20.073, 19.429, 26.126), Vector(-14.502, 19.550, 27.412), Vector(-8.967, 19.550, 24.549), Vector(-7.126, 19.550, -19.430),
			Vector(-3.871, 19.638, -16.848), Vector(-1.970, 19.630, -19.702), Vector(-7.592, 19.623, -9.538), Vector(-16.957, 19.644,
			-15.248), Vector(-19.823, 19.509, -16.952), Vector(-14.906, 19.550, -18.012), Vector(-9.642, 19.550, -15.423), Vector(-10.188,
			14.548, 29.339), Vector(-3.055, 14.465, 25.929), Vector(13.600, 12.948, 24.400), Vector(13.546, 12.536, 32.850), Vector(0.388,
			12.356, 35.329), Vector(-6.976, 14.808, 19.420), Vector(-16.747, 14.496, 24.561), Vector(0.962, 14.494, 31.132), Vector(21.189,
			12.917, 19.729), Vector(-16.922, 14.499, -14.172), Vector(-7.730, 14.744, -9.201), Vector(-3.633, 14.509, -16.658), Vector(
			-12.743, 14.613, -19.540), Vector(3.684, 14.050, -3.919), Vector(-1.118, 14.315, -9.114), Vector(-4.077, 14.414, -1.272),
			Vector(-13.555, 14.835, -3.854), Vector(-21.877, 14.279, -7.432), Vector(-20.372, 13.975, 0.386), Vector(-25.299, 13.641,
			1.853), Vector(2.562, 13.696, -15.247), Vector(10.258, 13.206, -12.527), Vector(16.807, 13.414, -5.707), Vector(11.521, 14.028,
			-7.796), Vector(15.950, 13.183, -13.759), Vector(13.997, 12.433, -19.785), Vector(-0.104, 12.353, -25.295), Vector(-5.418,
			14.621, 5.201), Vector(-4.647, 14.550, 11.062), Vector(-12.551, 14.850, 12.885), Vector(-20.021, 14.751, 17.329), Vector(
			-21.107, 13.796, 10.248), Vector(-26.076, 14.061, 11.231), Vector(-21.141, 13.641, 5.440), Vector(8.487, 13.796, 20.424),
			Vector(13.529, 14.377, 15.461), Vector(4.293, 14.050, 14.295), Vector(0.026, 14.360, 17.419), Vector(2.776, 13.673, 24.986));
		Global.Healthkits = Array();
		Global.ObjectiveA_Nodes = Array(Vector(-18.533, 14.418, 9.593), Vector(-22.271, 13.626, 9.509), Vector(-25.680, 13.752, 9.464),
			Vector(-25.390, 13.641, 6.464), Vector(-22.361, 13.641, 5.718), Vector(-18.552, 13.629, 5.642), Vector(-18.179, 13.838, 2.729),
			Vector(-22.272, 13.641, 2.858), Vector(-25.491, 13.641, 3.433));
		Global.ObjectiveB_Nodes = Array();
		Global.Chokepoint = Array();
		Global.Staircase_Top = Array(Vector(32.855, 18.550, -2.131), Vector(12.188, 19.269, -4.976), Vector(12.521, 19.266, 15.447),
			Vector(33.728, 18.550, 12.122), Vector(-5.874, 14.550, 29.521), Vector(-5.526, 19.550, 31.783), Vector(-4.072, 19.612, 5.104),
			Vector(-4.594, 19.812, 5.227), Vector(-4.276, 19.770, 5.210), Vector(-6.189, 14.613, -19.798), Vector(-5.955, 19.550, -22.047),
			Vector(5.951, 13.867, 29.327), Vector(21.172, 12.683, 14.805), Vector(21.468, 12.703, -5.243), Vector(4.484, 14.030, -17.643));
		Global.Staircase_Bottom = Array(Vector(28.219, 13.675, -12.861), Vector(18.273, 13.056, -13.376), Vector(18.096, 13.106, 22.976),
			Vector(28.194, 13.673, 22.965), Vector(-3.215, 12.509, 34.248), Vector(-15.283, 14.645, 31.509), Vector(-13.952, 14.683,
			-0.318), Vector(-14.266, 14.686, 9.499), Vector(-17.809, 13.624, 4.638), Vector(-3.308, 12.535, -24.765), Vector(-15.831,
			14.613, -21.536), Vector(7.131, 12.235, 33.607), Vector(20.987, 10.604, 9.118), Vector(21.314, 10.592, 0.940), Vector(6.405,
			12.183, -23.453));
		Global.Healthkits_Small = Array();
		Global.Healthkits_Large = Array();
		Global.Staircase_Middle = Array(Vector(33.897, 15.550, -12.596), 0, 0, Vector(34.343, 15.550, 22.900), 0, Vector(-12.087, 16.550,
			36.109), Vector(-12.158, 16.105, 4.474), Vector(-12.063, 16.171, 4.406), Vector(-11.078, 16.856, 4.789), 0, Vector(-12.507,
			16.550, -26.124), 0, 0, 0, 0);
		Global.Jump_Start = Array(Vector(-2.190, 19.465, -2.854), Vector(-7.953, 19.629, -9.836), Vector(-2.379, 19.452, 12.994), Vector(
			-7.499, 19.629, 19.566));
		Global.Jump_End = Array(Vector(-3.849, 19.252, -5.196), Vector(-6.558, 19.638, -8.129), Vector(-3.972, 19.315, 14.947), Vector(
			-6.397, 19.644, 18.073));
	}
}

rule("Castillo")
{
	event
	{
		Subroutine;
		Castillo;
	}

	actions
	{
		Global.Path_Nodes = Array(Vector(-113.613, 34.117, 27.653), Vector(-103.392, 34.106, 34.144), Vector(-117.445, 34.117, 32.188),
			Vector(-116.052, 34.106, 37.569), Vector(-86.030, 40.191, 54.795), Vector(-80.833, 40.191, 54.170), Vector(-90.441, 40.191,
			55.918), Vector(-87.751, 40.178, 64.262), Vector(-91.803, 41.113, 72.075), Vector(-100.474, 41.108, 73.256), Vector(-108.533,
			41.096, 75.167), Vector(-111.489, 41.106, 77.391), Vector(-113.146, 40.106, 67.570), Vector(-119.342, 40.106, 71.498), Vector(
			-119.476, 40.107, 68.201), Vector(-115.828, 40.124, 60.813), Vector(-113.635, 40.194, 60.551), Vector(-118.319, 40.195,
			61.323), Vector(-116.934, 40.106, 54.076), Vector(-121.924, 40.108, 56.142), Vector(-123.698, 40.106, 52.659), Vector(-114.530,
			41.094, 44.914), Vector(-117.928, 41.106, 44.225), Vector(-106.079, 41.106, 43.270), Vector(-97.738, 41.099, 41.353), Vector(
			-90.313, 40.179, 46.654), Vector(-101.126, 34.117, 90.040), Vector(-106.473, 34.117, 88.394), Vector(-107.076, 34.106, 82.653),
			Vector(-94.788, 34.106, 80.807), Vector(-93.692, 33.771, 33.746), Vector(-85.389, 34.106, 39.879), Vector(-82.794, 34.106,
			46.927), Vector(-88.813, 34.634, 48.684), Vector(-84.426, 34.113, 51.398), Vector(-81.391, 34.121, 54.307), Vector(-85.657,
			34.112, 55.067), Vector(-91.973, 35.106, 56.194), Vector(-93.144, 35.106, 48.833), Vector(-90.287, 35.106, 63.277), Vector(
			-82.774, 34.117, 57.737), Vector(-79.641, 34.106, 61.466), Vector(-86.156, 34.606, 62.220), Vector(-75.831, 33.549, 52.959),
			Vector(-86.104, 33.786, 78.127), Vector(-80.908, 34.106, 69.947), Vector(-122.075, 35.930, 62.753), Vector(-116.805, 36.117,
			71.996), Vector(-112.024, 35.441, 67.688), Vector(-97.501, 35.106, 47.766), Vector(-114.679, 35.383, 53.039), Vector(-120.713,
			36.117, 51.556), Vector(-110.346, 34.856, 59.857), Vector(-108.716, 34.913, 52.326), Vector(-107.172, 35.106, 67.537), Vector(
			-93.964, 35.106, 67.840), Vector(-95.043, 34.906, 60.218), Vector(-97.396, 34.904, 52.712), Vector(-101.086, 34.893, 64.432),
			Vector(-103.069, 34.879, 53.048));
		Global.Healthkits = Array();
		Global.ObjectiveA_Nodes = Array(Vector(-107.217, 34.849, 59.202), Vector(-106.541, 34.874, 55.778), Vector(-103.558, 34.872,
			53.836), Vector(-99.928, 34.870, 54.624), Vector(-97.572, 34.875, 57.912), Vector(-99.604, 34.873, 61.704), Vector(-103.124,
			34.875, 62.777), Vector(-105.967, 34.875, 61.394));
		Global.ObjectiveB_Nodes = Array();
		Global.Chokepoint = Array();
		Global.Staircase_Top = Array(Vector(-121.799, 36.117, 47.861), Vector(-129.318, 40.106, 51.882), Vector(-124.760, 40.108, 74.449),
			Vector(-84.130, 40.187, 64.055), Vector(-87.767, 40.186, 46.260), Vector(-116.125, 36.117, 75.948), Vector(-97.323, 35.108,
			70.553), Vector(-104.327, 35.106, 71.585), Vector(-109.150, 35.106, 46.240), Vector(-101.919, 35.106, 45.274));
		Global.Staircase_Bottom = Array(Vector(-117.979, 34.106, 40.478), Vector(-121.901, 36.140, 58.323), Vector(-120.775, 36.140,
			66.355), Vector(-89.768, 34.106, 76.255), Vector(-98.246, 34.106, 37.416), Vector(-110.354, 34.106, 80.825), Vector(-96.172,
			34.106, 76.059), Vector(-103.425, 34.083, 77.660), Vector(-109.839, 34.106, 40.939), Vector(-102.782, 34.106, 39.857));
		Global.Healthkits_Small = Array();
		Global.Healthkits_Large = Array();
		Global.Staircase_Middle = Array(Vector(-121.186, 35.194, 43.316), Vector(-130.369, 39.106, 55.979), Vector(-127.582, 39.106,
			71.225), Vector(-84.412, 37.805, 69.386), Vector(-90.670, 37.311, 40.896), Vector(-114.206, 35.259, 79.001), 0, 0, 0, 0);
		Global.Jump_Start = Array();
		Global.Jump_End = Array();
	}
}

rule("Ecopoint: Antarctica")
{
	event
	{
		Subroutine;
		Ecopoint_Antarctica;
	}

	actions
	{
		Global.Path_Nodes = Array(Vector(9.117, 9.585, 49.266), Vector(-12.539, 8.551, 44.782), Vector(-7.128, 8.658, 39.527), Vector(
			0.431, 8.709, 34.753), Vector(-6.970, 8.621, 26.685), Vector(-11.218, 8.637, 30.847), Vector(3.933, 8.521, 31.657), Vector(
			-0.582, 8.949, 27.228), Vector(-4.576, 8.601, 23.503), Vector(-31.122, 10.550, -4.405), Vector(-31.098, 10.550, 4.205), Vector(
			-18.645, 13.551, -6.402), Vector(-15.271, 13.551, 8.290), Vector(-18.729, 13.551, 5.883), Vector(-14.806, 13.551, -8.864),
			Vector(-11.200, 13.551, -6.383), Vector(-11.585, 13.551, 6.066), Vector(-8.410, 13.583, 3.427), Vector(-11.634, 13.551,
			-0.035), Vector(-8.210, 13.583, -4.146), Vector(-8.416, 13.583, 0.134), Vector(-6.107, 13.550, 12.699), Vector(-5.902, 13.550,
			6.539), Vector(-5.627, 13.551, -0.200), Vector(-5.689, 13.551, -7.252), Vector(-5.531, 13.551, -12.464), Vector(9.712, 13.550,
			-12.724), Vector(1.962, 13.550, -10.165), Vector(10.581, 13.401, -7.398), Vector(10.867, 13.359, -17.516), Vector(14.715,
			13.359, -18.357), Vector(6.040, 13.175, -22.465), Vector(5.753, 13.025, -27.613), Vector(-2.312, 13.174, -28.868), Vector(
			-1.652, 13.172, -23.056), Vector(2.463, 13.550, 10.395), Vector(9.932, 13.550, 12.356), Vector(10.795, 13.401, 7.542), Vector(
			10.883, 13.359, 18.031), Vector(14.634, 13.359, 18.732), Vector(6.536, 13.184, 22.125), Vector(5.390, 13.032, 27.906), Vector(
			-2.084, 13.184, 29.022), Vector(-1.939, 13.169, 23.139), Vector(7.012, 8.529, 19.910), Vector(10.997, 8.665, 24.136), Vector(
			10.020, 8.714, 29.758), Vector(2.571, 8.409, 15.830), Vector(12.885, 7.695, 20.383), Vector(17.824, 7.560, 16.194), Vector(
			25.394, 10.550, 3.429), Vector(29.229, 10.513, -0.106), Vector(25.830, 10.550, -3.553), Vector(14.889, 10.756, 3.979), Vector(
			14.987, 10.756, -0.271), Vector(14.916, 10.756, -4.099), Vector(20.882, 10.550, 0.830), Vector(29.388, 4.705, -4.460), Vector(
			29.478, 4.705, 4.393), Vector(18.338, 5.550, 3.442), Vector(17.915, 5.550, -4.005), Vector(13.313, 5.564, -3.787), Vector(
			15.926, 5.583, 0.290), Vector(13.001, 5.562, 3.997), Vector(-2.829, 8.534, 14.296), Vector(-10.831, 7.989, 16.534), Vector(
			-15.209, 8.535, 10.275), Vector(-8.488, 8.573, 3.580), Vector(-15.219, 8.817, 4.415), Vector(-15.148, 8.576, -10.101), Vector(
			-8.315, 8.526, -3.644), Vector(-15.971, 8.817, -4.376), Vector(-0.314, 7.904, 12.196), Vector(4.021, 7.614, 11.399), Vector(
			-4.988, 7.716, -4.264), Vector(-4.579, 7.595, 3.944), Vector(0.069, 6.963, 6.193), Vector(4.881, 6.691, 6.963), Vector(7.979,
			5.885, 5.930), Vector(8.326, 6.341, -0.881), Vector(7.331, 6.105, -7.023), Vector(-2.476, 7.286, 0.173), Vector(1.228, 6.896,
			-6.716), Vector(-1.242, 7.853, -11.846), Vector(4.097, 7.858, -12.070), Vector(-4.077, 8.557, -15.796), Vector(-9.498, 8.255,
			-17.436), Vector(-4.656, 8.575, -23.227), Vector(-0.187, 8.933, -27.529), Vector(3.823, 8.541, -31.450), Vector(0.648, 8.723,
			-33.836), Vector(-7.080, 8.607, -26.670), Vector(-10.147, 8.835, -32.902), Vector(-6.266, 8.822, -38.345), Vector(-11.915,
			8.550, -44.835), Vector(9.355, 9.561, -48.382), Vector(11.104, 8.638, -24.002), Vector(6.719, 8.530, -19.788), Vector(2.628,
			8.419, -16.251), Vector(10.867, 7.748, -18.885), Vector(18.511, 7.566, -17.137));
		Global.Healthkits = Array();
		Global.ObjectiveA_Nodes = Array(Vector(2.639, 6.797, 3.672), Vector(-0.379, 6.990, 3.840), Vector(-2.846, 7.310, 1.295), Vector(
			-2.214, 7.226, -3.212), Vector(1.408, 6.865, -3.479), Vector(4.496, 6.689, -3.317), Vector(7.044, 6.174, -1.372), Vector(6.266,
			6.435, 2.288), Vector(4.238, 6.705, 3.682));
		Global.ObjectiveB_Nodes = Array();
		Global.Chokepoint = Array();
		Global.Staircase_Top = Array(Vector(3.812, 9.564, 52.880), Vector(8.741, 9.585, 44.333), Vector(-15.408, 13.550, 13.227), Vector(
			-27.705, 10.550, 6.050), Vector(-27.750, 10.550, -6.022), Vector(-19.560, 13.551, 0.088), Vector(-15.407, 13.550, -12.955),
			Vector(16.341, 13.359, -23.176), Vector(17.891, 13.550, -14.008), Vector(18.294, 13.550, 13.909), Vector(16.566, 13.359,
			23.112), Vector(22.889, 10.550, 5.663), Vector(17.886, 7.560, 13.036), Vector(18.002, 7.566, -13.288), Vector(22.904, 10.550,
			-5.884), Vector(4.323, 9.556, -52.791), Vector(9.248, 9.561, -44.530));
		Global.Staircase_Bottom = Array(Vector(-2.354, 8.550, 54.670), Vector(7.100, 8.539, 39.461), Vector(-9.465, 8.634, 24.584), Vector(
			-19.927, 8.550, 5.911), Vector(-20.355, 8.550, -6.176), Vector(-28.479, 10.550, -0.003), Vector(-9.463, 8.595, -24.234),
			Vector(12.869, 8.490, -35.207), Vector(18.263, 10.550, -6.256), Vector(17.979, 10.550, 6.155), Vector(13.506, 8.531, 34.946),
			Vector(23.064, 7.560, 15.537), Vector(17.884, 5.550, 7.533), Vector(17.951, 5.550, -7.572), Vector(22.964, 7.566, -14.975),
			Vector(-2.415, 8.550, -54.889), Vector(7.875, 8.568, -39.855));
		Global.Healthkits_Small = Array();
		Global.Healthkits_Large = Array();
		Global.Staircase_Middle = Array(0, 0, Vector(-15.717, 11.550, 18.714), 0, 0, 0, Vector(-15.354, 11.550, -18.513), Vector(17.745,
			10.726, -30.653), 0, 0, Vector(18.140, 10.946, 30.173), 0, 0, 0, 0, 0, 0);
		Global.Jump_Start = Array();
		Global.Jump_End = Array();
	}
}

rule("Ayutthaya")
{
	event
	{
		Subroutine;
		Ayutthaya;
	}

	actions
	{
		Global.Path_Nodes = Array(Vector(18.689, 2.550, -119.377), Vector(12.323, 2.550, -112.237), Vector(17.462, 2.550, -106.281),
			Vector(24.125, 2.550, -111.791), Vector(26.398, 2.550, -98.845), Vector(10.042, 2.550, -99.347), Vector(11.572, 2.550,
			-88.960), Vector(18.176, 2.550, -81.503), Vector(25.599, 2.550, -89.847), Vector(31.113, 2.550, -94.892), Vector(35.656, 2.550,
			-94.951), Vector(25.955, 2.550, -69.506), Vector(20.657, 2.550, -75.100), Vector(13.333, 2.550, -74.147), Vector(9.696, 2.550,
			-69.463), Vector(10.183, 2.550, -64.719), Vector(18.104, 2.526, -56.424), Vector(26.055, 2.550, -65.554), Vector(39.918, 4.550,
			-60.123), Vector(40.249, 4.550, -70.008), Vector(-6.616, 7.550, -55.466), Vector(1.611, 7.550, -52.315), Vector(-5.939, 7.550,
			-48.760), Vector(1.827, 7.550, -44.846), Vector(-7.351, 7.550, -40.609), Vector(-4.529, 7.550, -37.075), Vector(0.490, 7.550,
			-36.504), Vector(8.158, 7.550, -35.969), Vector(9.722, 7.590, -39.995), Vector(17.759, 7.550, -34.466), Vector(17.984, 7.550,
			-39.637), Vector(17.819, 7.550, -31.276), Vector(27.401, 7.550, -36.091), Vector(26.289, 7.558, -39.971), Vector(39.234, 6.550,
			-35.824), Vector(39.866, 4.550, -50.476), Vector(35.353, 4.550, -50.167), Vector(29.581, 4.557, -53.969), Vector(31.918, 4.556,
			-51.421), Vector(33.522, 4.736, -56.740), Vector(38.485, -1.450, -45.845), Vector(35.071, -1.450, -49.786), Vector(29.733,
			-1.450, -45.591), Vector(18.435, 2.550, -36.689), Vector(21.151, -1.450, -43.891), Vector(10.567, 2.550, -35.876), Vector(
			-1.791, 2.712, -37.732), Vector(20.771, 2.733, -43.836), Vector(15.138, 2.737, -43.604), Vector(17.907, 2.588, -44.498),
			Vector(18.288, 2.550, -50.533), Vector(12.187, 2.550, -47.812), Vector(8.444, 2.550, -49.425), Vector(23.601, 2.550, -47.957),
			Vector(27.562, 2.550, -49.708), Vector(26.413, 2.554, -55.221), Vector(9.569, 2.550, -55.300), Vector(13.114, 2.550, -59.634),
			Vector(22.172, 2.550, -33.195), Vector(14.092, 2.512, -32.815), Vector(14.028, 1.550, -28.184), Vector(21.830, 1.550, -28.337),
			Vector(21.852, 1.871, -31.538), Vector(40.127, 6.543, -31.107), Vector(40.371, 6.543, -26.851), Vector(32.997, 6.660, -27.592),
			Vector(27.773, 1.550, -24.736), Vector(27.672, 2.051, -17.019), Vector(35.059, 1.550, -13.106), Vector(34.376, 1.550, -7.102),
			Vector(31.080, 1.143, -7.301), Vector(24.324, 0.546, -13.187), Vector(17.889, 1.550, -22.092), Vector(17.571, 0.589, -19.972),
			Vector(0.435, 1.550, -28.196), Vector(-0.172, 1.550, -13.840), Vector(14.098, 0.550, -13.926), Vector(0.071, 6.576, -17.979),
			Vector(0.315, 7.147, -33.086), Vector(6.653, 6.668, -18.208), Vector(3.341, 6.550, -28.774), Vector(33.396, 6.550, 10.098),
			Vector(33.798, 6.630, 4.079), Vector(28.137, 6.550, 4.645), Vector(30.606, 6.640, 13.717), Vector(33.419, 7.261, 18.090),
			Vector(33.390, 7.550, 22.406), Vector(33.445, 1.550, 1.229), Vector(33.312, 1.550, 14.328), Vector(27.605, 1.550, 14.437),
			Vector(5.411, 1.550, -28.668), Vector(18.159, 0.550, 0.844), Vector(16.267, 1.066, 5.697), Vector(10.040, 0.546, -0.954),
			Vector(5.611, 1.890, 3.309), Vector(0.223, 1.553, 1.051), Vector(6.068, 1.553, 11.551), Vector(12.156, 1.550, 14.116), Vector(
			19.447, 1.550, 14.032), Vector(19.491, 2.410, 18.388), Vector(16.085, 2.550, 21.814), Vector(12.437, 2.118, 17.803), Vector(
			-6.604, 6.577, 16.479), Vector(0.682, 6.579, 13.798), Vector(-5.599, 6.550, 22.082), Vector(2.348, -1.450, 34.723), Vector(
			-4.354, -1.450, 34.623), Vector(-4.417, -1.450, 28.549), Vector(-6.671, 4.551, 45.154), Vector(-6.180, 4.551, 36.708), Vector(
			-1.101, 4.551, 35.462), Vector(-1.087, 4.550, 29.088), Vector(3.577, 4.550, 38.222), Vector(8.353, 2.550, 53.567), Vector(
			-5.901, 4.550, 53.281), Vector(15.877, 2.550, 64.147), Vector(23.385, 2.550, 59.579), Vector(24.072, 2.550, 51.302), Vector(
			16.233, 2.526, 43.465), Vector(40.365, 7.550, 40.909), Vector(32.644, 7.554, 38.651), Vector(32.644, 7.554, 31.232), Vector(
			40.426, 7.550, 29.354), Vector(40.681, 7.550, 35.312), Vector(40.829, 7.550, 23.560), Vector(26.575, 7.550, 22.189), Vector(
			24.340, 7.550, 25.432), Vector(16.642, 7.550, 21.463), Vector(16.179, 7.596, 17.430), Vector(16.054, 7.550, 25.655), Vector(
			8.530, 7.550, 25.432), Vector(4.541, 7.550, 21.866), Vector(5.984, 2.549, 36.335), Vector(10.479, 2.549, 34.183), Vector(
			14.933, 2.443, 37.900), Vector(8.953, 2.550, 41.690), Vector(16.306, 2.550, 34.551), Vector(21.508, 2.531, 34.021), Vector(
			25.635, 2.550, 35.832), Vector(25.828, 2.550, 42.043), Vector(20.586, -1.450, 29.472), Vector(11.451, -1.450, 29.868), Vector(
			22.167, 2.630, 22.010), Vector(35.766, 2.697, 23.101), Vector(15.984, 2.587, 26.718), Vector(18.399, 2.720, 28.962), Vector(
			13.529, 2.814, 29.762), Vector(16.133, 2.550, 71.923), Vector(7.771, 2.550, 80.948), Vector(-2.329, 2.550, 81.034), Vector(
			10.997, 2.550, 75.893), Vector(21.714, 2.550, 76.908), Vector(23, 2.550, 89.823), Vector(8.932, 2.550, 90.016), Vector(11.933,
			2.550, 103.288), Vector(18.447, 2.550, 103.501), Vector(-4.468, 4.550, 59.043), Vector(-2.057, 4.550, 44.039), Vector(37.392,
			4.550, -73.240));
		Global.Healthkits = Array();
		Global.ObjectiveA_Nodes = Array(Vector(16.861, 0.550, -1.200), Vector(13.942, 0.550, -1.491), Vector(11.604, 0.550, -3.432),
			Vector(10.645, 0.550, -7.081), Vector(11.618, 0.550, -10.281), Vector(14.275, 0.550, -12.555), Vector(17.052, 0.550, -13.025),
			Vector(20.166, 0.550, -12.274), Vector(22.508, 0.550, -9.967), Vector(22.819, 0.550, -6.955), Vector(21.985, 0.550, -3.877),
			Vector(19.354, 0.550, -1.898));
		Global.ObjectiveB_Nodes = Array();
		Global.Chokepoint = Array();
		Global.Staircase_Top = Array(Vector(0.478, 4.550, 60.032), Vector(-2.041, 4.630, 63.063), Vector(-9.490, 4.550, 43.313), Vector(
			10.551, 2.550, 21.719), Vector(29.703, 2.550, 38.414), Vector(38.758, 7.550, 48.168), Vector(1.878, 4.550, 46.739), Vector(
			-5.894, 6.550, 25.656), Vector(1.833, 7.640, 22.085), Vector(31.871, 2.552, 19.950), Vector(30.289, 6.550, 10.086), Vector(
			-10.812, 6.551, 11.999), Vector(0.425, 1.550, -6.952), Vector(0.494, 6.550, -24.133), Vector(-6.533, 7.550, -62.521), Vector(
			32.517, 4.550, -60.613), Vector(36.076, 4.550, -77.706), Vector(33.314, 4.550, -74.183), Vector(45.136, 6.550, -25.991),
			Vector(30.404, 7.550, -36.057), Vector(39.842, 6.552, -39.448), Vector(43.855, 4.550, -57.231), Vector(23.835, 2.550, -36.008),
			Vector(4.210, 2.550, -52.241), Vector(2.662, 2.550, -34.749));
		Global.Staircase_Bottom = Array(Vector(7.947, 2.550, 59.928), Vector(-2.202, 2.587, 68.263), Vector(-9.440, -1.451, 30.578),
			Vector(2.340, -1.450, 28.028), Vector(29.950, -1.450, 28.550), Vector(27.472, 2.550, 48.543), Vector(7.587, 2.550, 46.762),
			Vector(-5.998, 4.550, 30.265), Vector(-1.418, 6.550, 22.213), Vector(37.917, -1.450, 26.889), Vector(24.060, 0.550, -0.600),
			Vector(0.298, 1.574, 6.946), Vector(5.413, 0.550, -6.797), Vector(10.064, 0.550, -13.385), Vector(6.462, 2.550, -62.524),
			Vector(27.661, 2.549, -60.743), Vector(36.185, 2.549, -82.502), Vector(28.393, 2.550, -74.056), Vector(34.613, 1.550, -20.832),
			Vector(34.461, 6.550, -36.032), Vector(40.077, 4.550, -44.349), Vector(43.538, -1.432, -44.931), Vector(32.133, -1.451,
			-41.146), Vector(4.039, -1.450, -42.926), Vector(-4.112, -1.450, -41.506));
		Global.Healthkits_Small = Array();
		Global.Healthkits_Large = Array();
		Global.Staircase_Middle = Array(0, 0, 0, Vector(2.235, -0.450, 22.570), 0, 0, 0, 0, 0, Vector(37.945, 0.550, 20.407), Vector(
			24.143, 4.550, 9.694), Vector(-9.985, 5.550, 7.354), 0, Vector(9.859, 4.550, -24.073), 0, 0, 0, 0, Vector(44.927, 5.550,
			-21.394), 0, 0, 0, Vector(31.515, -0.449, -36.286), 0, Vector(-3.884, 0.550, -34.212));
		Global.Jump_Start = Array();
		Global.Jump_End = Array();
	}
}

rule("Gamertags")
{
	event
	{
		Subroutine;
		Gamertags;
	}

	actions
	{
		Global.Gamertags = Array(Custom String("Spiderman318"), Custom String("Spiderman423"), Custom String("Hollywoof423"),
			Custom String("Hollywoof318"), Custom String("Sunpatches"), Custom String("Sunpatches77"), Custom String("Sk366in"),
			Custom String("Breggers537"), Custom String("GenjiMain2019"), Custom String("BastionMain2021"), Custom String("MercyUWU794"),
			Custom String("WorkshopGamer2022"), Custom String("Spiderman31807"), Custom String("Hollywoof31807"), Custom String(
			"MineralMiner2681"), Custom String("CallMeDave2291"), Custom String("GenericDude4378"), Custom String("GirlyGamerXOXO91876"),
			Custom String("ImBatman"), Custom String("Deadpool"), Custom String("Not_Ur_Friend6719"), Custom String("Comp4Life"),
			Custom String("Overwatch2_When5456"), Custom String("Jakey_Bakey"), Custom String("The_BarStool45219"), Custom String(
			"TeamFortressWatch"), Custom String("AI"), Custom String("Robot"), Custom String("Bot"), Custom String(
			"Artificial Intelligence"), Custom String("Dummy2"), Custom String("Sussy_Baka"), Custom String("Patchie"), Custom String(
			"OhhhWhoLivesUnderMyBed"), Custom String("Terminater"), Custom String("Prototype C"), Custom String("OilyWater"),
			Custom String("BlueBlood"), Custom String("FallDude546"), Custom String("KillerMain2022"), Custom String(
			"Toxic_Friendship_GoBye"), Custom String("Toxic_Waste_Disposal"), Custom String("Toxic_DumpSite"), Custom String(
			"Xx_Mercy_xX"), Custom String("CallMeDaddy"), Custom String("CallMeMommy"), Custom String("CallMeSus"), Custom String(
			"CallMe01100010"), Custom String("CallMeAt_18006745210"), Custom String("Stranger_Fans_4"), Custom String(
			"Idk Im Writing 100 of these?!?!"), Custom String("Send Help Plz"), Custom String("ProNoob69"), Custom String("YuffyDuffy329"),
			Custom String("Aimbot4You"), Custom String("HackerMan-801"), Custom String("Slenderdude"), Custom String("Iron_Catto"),
			Custom String("AEG_Rain"), Custom String("Name.EXE"), Custom String("Error 404"), Custom String("Kill.EXE"), Custom String(
			"EXE-Failed"), Custom String("WasteOfSpace"), Custom String("Tangey_Blue3191"), Custom String("DragonDogma"), Custom String(
			"PlayStation5Boii"), Custom String("PS4_4_Life"), Custom String("Clash-Royal4319"), Custom String("Ark.Survival.Dino"),
			Custom String("UnrealEngine5Pog"), Custom String("OW2_Beta_2026"), Custom String("LamarDavis6969"), Custom String(
			"GamerTag.EXE"), Custom String("FunkeyMonk"), Custom String("CoCo"), Custom String("GabeRed"), Custom String("HelenPeg630"),
			Custom String("Friendo3464"), Custom String("DoiKnowYou"), Custom String("SurvivorMain2018"), Custom String("Virgo-Cutie2964"),
			Custom String("Minecrafter-54791"), Custom String("LetsHateThisGame"), Custom String("Humon Disguise"), Custom String(
			"Disguised AI"), Custom String("UrMomGay666"), Custom String("DemonChild666"), Custom String("Angelic555Transcend"),
			Custom String("Super.. Hot.."), Custom String("Well Done Gregory!"), Custom String("Meme5481"), Custom String(
			"PleaseLaugh4700"), Custom String("Tini-TheCat"), Custom String("Kitto-Catto-5471"), Custom String("BoardHouse444"),
			Custom String("IHaveNoFriends"), Custom String("Rick&Morty-S6?"), Custom String("ItsAFriday6682"), Custom String(
			"Triple0-Double2-54"), Custom String("IronBaby420"), Custom String("SpiderBastion42307"), Custom String("X_Simp318"),
			Custom String("YuffBoi2020"), Custom String("BatMan318"), Custom String("FreakVessel22"), Custom String("FunBastion8910"),
			Custom String("ImFreaky2020"), Custom String("SpiderMuffy8910"), Custom String("NickBoi34768"), Custom String("TimeMan_XX"),
			Custom String("IronBlue_XX"), Custom String("NickGamer37481"), Custom String("FunFace6969"), Custom String("Its_Bastion555"),
			Custom String("TheMuffy_XX"), Custom String("TheVessel420"), Custom String("GoodMan001"), Custom String("TheDaddy37481"),
			Custom String("FreakPatch9910"), Custom String("SunTimes423"), Custom String("X_Gamer42307"), Custom String("FreakMan31423"),
			Custom String("FreakVessel005"), Custom String("TheFunny999"), Custom String("FunGamer1891"), Custom String("FunMercy0420"),
			Custom String("GoodMercy666"), Custom String("IronFace37481"), Custom String("Virgo40420"), Custom String("GoodBastion92"),
			Custom String("CallmeName9910"), Custom String("BatPatch.EXE"), Custom String("Error40442307"), Custom String(
			"SpiderDaddy31807"), Custom String("GamerMan37481"), Custom String("ErrorBoi37481"), Custom String("GoodLúcio420"),
			Custom String("AEG_Vessel423"), Custom String("GoodLuffy9910"), Custom String("GamerFreaky_XX"), Custom String("X_Mercy555"),
			Custom String("Its_Baby999"), Custom String("IronFreaky420"), Custom String("TheLúcio69"), Custom String("SunPatch.EXE"),
			Custom String("TimePlease6969"), Custom String("VirgoFreaky34768"), Custom String("CallmeMuffy31807"), Custom String(
			"FiveSimp555"), Custom String("GamerBlue31423"), Custom String("BatDaddy005"), Custom String("ErrorVessel37481"),
			Custom String("Its_Simp31423"), Custom String("CallmeBastion42307"), Custom String("GoodMercy318"), Custom String(
			"JauneMuffy.EXE"), Custom String("XX_Tuffy420"), Custom String("ImBaby_X"), Custom String("ErrorBoi31807"), Custom String(
			"X_Bastion22"), Custom String("DuffyUWU_X"), Custom String("ProUWU_XX"), Custom String("VirgoRain1891"), Custom String(
			"InsymGamer555"), Custom String("GamerPatch555"), Custom String("Its_Funny_X"), Custom String("FiveLuffy.EXE"), Custom String(
			"ImUWU2020"), Custom String("IronFunny720"), Custom String("ErrorMuffy420"), Custom String("FiveDaddy005"), Custom String(
			"TimeMan555"), Custom String("Jaune4048910"), Custom String("VirgoLúcio87431"), Custom String("JauneFunny31807"),
			Custom String("X_Man.EXE"), Custom String("X_Luffy_X"), Custom String("BuffyBoi42307"), Custom String("X_Muffy6969"),
			Custom String("XX_Face_XX"), Custom String("IronGenji37481"), Custom String("NickSimp001"), Custom String("BatVessel22"),
			Custom String("FreakName.EXE"), Custom String("NightBoi6969"), Custom String("XX_Bastion666"), Custom String("GoodLúcio42307"),
			Custom String("NightMercy_XX"), Custom String("XX_Mommy22"), Custom String("NightBoi9910"), Custom String("InsymBoi0420"),
			Custom String("GamerMuffy720"), Custom String("YuffTuffy555"), Custom String("YuffMommy92"), Custom String("SpiderSimp555"),
			Custom String("TheSimp1891"), Custom String("FiveBaby999"), Custom String("VirgoPlease_XX"), Custom String("TimeBlue37481"),
			Custom String("GoodGamer42307"), Custom String("IronMuffy420"), Custom String("GamerDaddy555"), Custom String("ImBastion720"),
			Custom String("FunPatch666"), Custom String("CallmeBaby666"), Custom String("TimeMommy420"), Custom String("TimeMan420"),
			Custom String("ProBaby1891"), Custom String("VirgoGenji22"), Custom String("X_Times1891"), Custom String("YuffSimp31423"),
			Custom String("RedFace92"), Custom String("YuffBastion31807"), Custom String("VirgoUWU31807"), Custom String("SpiderMuffy78"),
			Custom String("GamerName0420"), Custom String("IronFace92"), Custom String("GamerFreaky6969"), Custom String("NickMan999"),
			Custom String("XX_Funny92"), Custom String("Sun404005"), Custom String("DuffyDaddy720"), Custom String("FiveBastion42307"),
			Custom String("TimeBastion.EXE"), Custom String("NightBastion666"), Custom String("VirgoPlease42307"));
	}
}

rule("Hero Set Variables")
{
	event
	{
		Subroutine;
		Hero_Variables;
	}

	actions
	{
		Event Player.Can_Change_Arc = True;
		Event Player.Current_Hero = Is Duplicating(Event Player) ? Hero Being Duplicated(Event Player) : Hero Of(Event Player);
		Event Player.Aim_Predict_Scale = Global.Aim_Predict_Scale[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Passive = Global.Passive[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Primary_Max = Global.Primary_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Primary_Min = Global.Primary_Min[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Secondary_Max = Global.Secondary_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Secondary_Min = Global.Secondary_Min[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Aim_Arc = Global.Primary_Arc[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ability1_Max = Global.Ability1_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Mobility_Distance = Global.Mobility_Distance[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Charging_Time = Global.Charge_Time[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ultimate_Duration = Global.Ultimate_Duration[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Use_Ultimate_Max = Global.Use_Ultimate_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ability1_Min = Global.Ability1_Min[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ability2_Max = Global.Ability2_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ultimate_Health = Global.Ultimate_Health[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ultimate_Targets = Global.Ultimate_Targets[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ability2_Min = Global.Ability2_Min[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ultimate_Target_Team = Global.Ultimate_Target_Team[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)
			] == 0 ? Opposite Team Of(Team Of(Event Player)) : Team Of(Event Player);
		Event Player.Ultimate_Max = Global.Ultimate_Max[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Ultimate_Min = Global.Ultimate_Min[Index Of Array Value(Global.All_Heros, Event Player.Current_Hero)];
		Event Player.Alternative_Form = Empty Array;
		Event Player.Offensive = Empty Array;
		Event Player.Defensive = Empty Array;
		Event Player.Mobility = Empty Array;
		Event Player.Healing = Empty Array;
		Event Player.Secondary_Fire = Empty Array;
		Event Player.Secondary_Offensive = Empty Array;
		Event Player.Use_If_Shield = Empty Array;
		Event Player.Secondary_Defensive = Empty Array;
		Event Player.Secondary_Healing = Empty Array;
		Event Player.Hold = Empty Array;
		Event Player.Confirm = Empty Array;
		Event Player.Toggle = Empty Array;
		Event Player.Cooldown = Empty Array;
		Event Player.Charge = Empty Array;
		Event Player.Resource = Empty Array;
		Event Player.Charging = Empty Array;
		Event Player.Heal_Friendlys = Empty Array;
		If(Is True For Any(Array(Hero(Brigitte), Hero(Doomfist), Hero(Genji), Hero(Junkrat), Hero(Reinhardt), Hero(Roadhog), Hero(Bastion),
			Hero(Hanzo), Hero(Winston), Hero(Junker Queen), Hero(Ramattra)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Offensive, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Ana), Hero(Ashe), Hero(Mercy), Hero(Moira), Hero(Orisa), Hero(Reaper), Hero(Sigma), Hero(Zarya)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Defensive, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Cassidy), Hero(Echo), Hero(Soldier: 76), Hero(Tracer), Hero(Widowmaker), Hero(Winston), Hero(
			Wrecking Ball), Hero(D.Va), Hero(Sombra), Hero(Sojourn), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Mobility, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Ashe), Hero(Cassidy), Hero(D.Va), Hero(Doomfist), Hero(Echo), Hero(Junkrat), Hero(Moira), Hero(
			Reinhardt), Hero(Sigma), Hero(Widowmaker), Hero(Hanzo), Hero(Zenyatta), Hero(Ana), Hero(Orisa), Hero(Junker Queen), Hero(
			Ramattra), Hero(Sojourn)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Offensive, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Baptiste), Hero(Genji), Hero(Pharah), Hero(Sombra), Hero(Winston), Hero(Wrecking Ball), Hero(
			Torbjörn), Hero(Mei), Hero(Doomfist), Hero(Orisa)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Defensive, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Reaper), Hero(Lúcio)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Mobility, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Baptiste), Hero(Mei)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Healing, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Ana), Hero(Roadhog), Hero(Soldier: 76), Hero(Tracer), Hero(Kiriko)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Healing, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Cassidy), Hero(Genji), Hero(Mei), Hero(Roadhog), Hero(Symmetra), Hero(Torbjörn), Hero(Zarya), Hero(
			Zenyatta), Hero(Kiriko), Hero(Lifeweaver), Hero(Winston), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Secondary_Fire, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Doomfist), Hero(Echo), Hero(Junkrat), Hero(Lúcio), Hero(Soldier: 76), Hero(Sombra), Hero(Reinhardt),
			Hero(Brigitte), Hero(Junker Queen), Hero(Bastion), Hero(Orisa), Hero(Sojourn)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Secondary_Offensive, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(D.Va), Hero(Sigma), Hero(Ramattra)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Secondary_Defensive, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Secondary_Healing, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Lúcio)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Hold, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Confirm, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Bastion), Hero(Mei), Hero(Reaper), Hero(Sombra), Hero(Wrecking Ball), Hero(Hanzo), Hero(Mercy), Hero(
			D.Va), Hero(Soldier: 76), Hero(Ramattra), Hero(Orisa)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Toggle, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Hold, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Mei), Hero(Reaper), Hero(Ashe)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Confirm, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Genji), Hero(Moira), Hero(Tracer), Hero(Widowmaker), Hero(Wrecking Ball), Hero(Hanzo), Hero(Mei),
			Hero(Orisa)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Toggle, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Brigitte), Hero(D.Va), Hero(Doomfist), Hero(Reinhardt), Hero(Sombra), Hero(Symmetra), Hero(Zenyatta),
			Hero(Lifeweaver), Hero(Winston), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Hold, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Confirm, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Toggle, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Hold, Append To Array, Button(Ultimate));
		End;
		If(Is True For Any(Array(Hero(Baptiste), Hero(Cassidy), Hero(Junkrat), Hero(Sigma), Hero(Symmetra), Hero(Lifeweaver), Hero(Orisa)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Confirm, Append To Array, Button(Ultimate));
		End;
		If(Is True For Any(Array(Hero(Ramattra)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Toggle, Append To Array, Button(Ultimate));
		End;
		If(Is True For All(Array(Hero(Bastion), Hero(Junkrat), Hero(Lúcio), Hero(Soldier: 76), Hero(Symmetra), Hero(Tracer), Hero(
			Wrecking Ball), Hero(Zenyatta)), Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Cooldown, Append To Array, Button(Ability 1));
		End;
		If(Is True For All(Array(Hero(Bastion), Hero(Brigitte), Hero(Zenyatta)), Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Cooldown, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Brigitte), Hero(Doomfist), Hero(Echo), Hero(Orisa), Hero(Reinhardt), Hero(Sigma), Hero(Soldier: 76),
			Hero(Sombra), Hero(Bastion), Hero(Junker Queen)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Cooldown, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Junkrat), Hero(Symmetra), Hero(Tracer)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charge, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Brigitte)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charge, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charge, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Resource, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Resource, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(D.Va), Hero(Pharah), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Resource, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charging, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charging, Append To Array, Button(Ability 2));
		End;
		If(Is True For Any(Array(Hero(Doomfist), Hero(Sigma), Hero(Symmetra), Hero(Zenyatta), Hero(Winston)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charging, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Cassidy), Hero(Orisa)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charging, Append To Array, Button(Ultimate));
		End;
		If(Is True For Any(Array(Hero(Ashe), Hero(Hanzo), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Charging, Append To Array, Button(Primary Fire));
		End;
		If(Is True For Any(Array(Hero(Ana), Hero(Ashe), Hero(Baptiste), Hero(Bastion), Hero(Brigitte), Hero(Cassidy), Hero(D.Va), Hero(
			Moira), Hero(Reinhardt), Hero(Soldier: 76), Hero(Sombra), Hero(Symmetra), Hero(Tracer), Hero(Widowmaker), Hero(Winston), Hero(
			Wrecking Ball), Hero(Zarya), Hero(Hanzo), Hero(Junker Queen), Hero(Illari)),
			Event Player.Current_Hero == Current Array Element));
			Event Player.Aim_Predict = 0.050;
		End;
		If(Is True For Any(Array(Hero(Doomfist), Hero(Echo), Hero(Genji), Hero(Lúcio), Hero(Mei), Hero(Orisa), Hero(Sigma), Hero(Torbjörn),
			Hero(Zenyatta), Hero(Mercy), Hero(Sojourn), Hero(Ramattra), Hero(Kiriko), Hero(Lifeweaver)),
			Event Player.Current_Hero == Current Array Element));
			Event Player.Aim_Predict = 0.225;
		End;
		If(Is True For Any(Array(Hero(Pharah), Hero(Junkrat)), Event Player.Current_Hero == Current Array Element));
			Event Player.Aim_Predict = 0.400;
		End;
		If(Is True For Any(Array(Hero(Bastion), Hero(Lúcio), Hero(Wrecking Ball), Hero(Ramattra)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Alternative_Form, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Alternative_Form, Append To Array, Button(Ability 2));
		End;
		If(Is True For All(Array(Hero(Ashe), Hero(Illari)), Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Hold, Append To Array, Button(Primary Fire));
		End;
		If(Is True For Any(Array(Hero(D.Va)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Alternative_Form, Append To Array, Custom String("Passive"));
		End;
		If(Is True For All(Array(Hero(Ana), Hero(Brigitte), Hero(Hanzo), Hero(Junkrat), Hero(Roadhog)),
			Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Use_If_Shield, Append To Array, Button(Ability 1));
		End;
		If(Is True For All(Array(Hero(Ana), Hero(Ashe), Hero(Cassidy), Hero(Echo), Hero(Sigma), Hero(Zenyatta)),
			Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Use_If_Shield, Append To Array, Button(Ability 2));
		End;
		If(Is True For All(Array(Hero(Echo), Hero(Lúcio), Hero(Orisa), Hero(Soldier: 76), Hero(Sombra)),
			Event Player.Current_Hero != Current Array Element));
			Modify Player Variable(Event Player, Use_If_Shield, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Ana), Hero(Kiriko), Hero(Lifeweaver), Hero(Mercy), Hero(Moira)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Heal_Friendlys, Append To Array, Button(Primary Fire));
		End;
		If(Is True For Any(Array(Hero(Baptiste), Hero(Illari)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Heal_Friendlys, Append To Array, Button(Secondary Fire));
		End;
		If(Is True For Any(Array(Hero(Baptiste), Hero(Kiriko)), Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Heal_Friendlys, Append To Array, Button(Ability 1));
		End;
		If(Is True For Any(Array(Hero(Ana), Hero(Baptiste), Hero(Brigitte), Hero(Kiriko), Hero(Lifeweaver), Hero(Lúcio), Hero(Moira)),
			Event Player.Current_Hero == Current Array Element));
			Modify Player Variable(Event Player, Heal_Friendlys, Append To Array, Button(Ability 2));
		End;
	}
}

rule("Hero Restrictions")
{
	event
	{
		Player Joined Match;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
	}

	actions
	{
		Event Player.Role_Lock = Slot Of(Event Player) == 0 ? Global.Slot1_Role_Lock : (Slot Of(Event Player)
			== 1 ? Global.Slot2_Role_Lock : (Slot Of(Event Player) == 2 ? Global.Slot3_Role_Lock : (Slot Of(Event Player)
			== 3 ? Global.Slot4_Role_Lock : (Slot Of(Event Player) == 4 ? Global.Slot5_Role_Lock : (Slot Of(Event Player)
			== 5 ? Global.Slot6_Role_Lock : 0)))));
		If(Event Player.Role_Lock == 0);
			Event Player.Hero_Pool = All Heroes;
			Event Player.Thaw_Breaking_Point = 2;
		Else If(Event Player.Role_Lock == 1);
			Event Player.Hero_Pool = All Tank Heroes;
			Event Player.Thaw_Breaking_Point = 3;
		Else If(Event Player.Role_Lock == 2);
			Event Player.Hero_Pool = All Damage Heroes;
			Event Player.Thaw_Breaking_Point = 2;
		Else If(Event Player.Role_Lock == 3);
			Event Player.Hero_Pool = All Support Heroes;
			Event Player.Thaw_Breaking_Point = 1;
		Else If(Event Player.Role_Lock == 4);
			Event Player.Hero_Pool = Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa));
			Event Player.Thaw_Breaking_Point = 3;
		Else If(Event Player.Role_Lock == 5);
			Event Player.Hero_Pool = Array(Null, Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(Wrecking Ball), Hero(Zarya), Hero(Mauga));
			Event Player.Thaw_Breaking_Point = 3;
		Else If(Event Player.Role_Lock == 6);
			Event Player.Hero_Pool = Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste));
			Event Player.Thaw_Breaking_Point = 1;
		Else If(Event Player.Role_Lock == 7);
			Event Player.Hero_Pool = Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari));
			Event Player.Thaw_Breaking_Point = 1;
		End;
		Set Player Allowed Heroes(Event Player, Event Player.Hero_Pool);
		Abort If(Global.Gamertags);
		Wait(1, Ignore Condition);
		If(Global.Mode_Type == 0);
			Start Forcing Dummy Bot Name(Event Player, Custom String("{0} {1}", Array(Custom String("Flex"), Custom String("Tank"),
				Custom String("Damage"), Custom String("Support"), Custom String("Main Tank"), Custom String("Off Tank"), Custom String(
				"Main Support"), Custom String("Off Support"))[Event Player.Role_Lock], Index Of Array Value(Filtered Array(Remove From Array(
				All Players(All Teams), Filtered Array(All Players(All Teams), !Is Dummy Bot(Current Array Element))),
				Current Array Element.Role_Lock == Event Player.Role_Lock), Event Player) + 1));
		Else;
			Start Forcing Dummy Bot Name(Event Player, Custom String("AI Opponent"));
		End;
	}
}

rule("Start AI Facing")
{
	event
	{
		Subroutine;
		Start_Facing;
	}

	actions
	{
		If(Global.Aim_Type == 0);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction Towards(Eye Position(Event Player),
				Eye Position(First Of(Event Player.Target_Order))) : (Is In Line of Sight(Eye Position(Event Player),
				Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Direction Towards(Eye Position(Event Player),
				Event Player.Walk_To_Position) : Direction From Angles(Horizontal Angle From Direction(Direction Towards(Eye Position(
				Event Player), Event Player.Current_Node)), 0)), Is True For Any(Array(Has Status(Event Player, Knocked Down), Has Status(
				Event Player, Asleep), Has Status(Event Player, Frozen), Has Status(Event Player, Stunned)), Current Array Element == True)
				? 0 : (Magnitude Of(Throttle Of(Event Player)) == 0 && !Entity Exists(First Of(Event Player.Target_Order))
				? 0 : Global.Turn_Speed), To World, Direction and Turn Rate);
		Else If(Global.Aim_Type == 1);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict * (Distance Between(Event Player, First Of(
				Event Player.Target_Order)) / Event Player.Aim_Predict_Scale))), Vertical Angle From Direction(Direction Towards(Eye Position(
				Event Player), Eye Position(First Of(Event Player.Target_Order))))) : (Is In Line of Sight(Eye Position(Event Player),
				Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Direction Towards(Eye Position(Event Player),
				Event Player.Walk_To_Position) : Direction From Angles(Horizontal Angle From Direction(Direction Towards(Eye Position(
				Event Player), Event Player.Current_Node)), 0)), Is True For Any(Array(Has Status(Event Player, Knocked Down), Has Status(
				Event Player, Asleep), Has Status(Event Player, Frozen), Has Status(Event Player, Stunned)), Current Array Element == True)
				? 0 : (Magnitude Of(Throttle Of(Event Player)) == 0 && !Entity Exists(First Of(Event Player.Target_Order))
				? 0 : Global.Turn_Speed), To World, Direction and Turn Rate);
		Else If(Global.Aim_Type == 2);
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(
				Event Player.Target_Order)))), Vertical Angle From Direction(Direction Towards(Eye Position(Event Player),
				Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(First Of(Event Player.Target_Order))))
				+ Distance Between(Event Player, First Of(Event Player.Target_Order)) * Event Player.Aim_Arc * -1) : (Is In Line of Sight(
				Eye Position(Event Player), Event Player.Walk_To_Position, Barriers Do Not Block LOS) ? Direction Towards(Eye Position(
				Event Player), Event Player.Walk_To_Position) : Direction From Angles(Horizontal Angle From Direction(Direction Towards(
				Eye Position(Event Player), Event Player.Current_Node)), 0)), Is True For Any(Array(Has Status(Event Player, Knocked Down),
				Has Status(Event Player, Asleep), Has Status(Event Player, Frozen), Has Status(Event Player, Stunned)),
				Current Array Element == True) ? 0 : (Magnitude Of(Throttle Of(Event Player)) == 0 && !Entity Exists(First Of(
				Event Player.Target_Order)) ? 0 : Global.Turn_Speed), To World, Direction and Turn Rate);
		Else;
			Start Facing(Event Player, Entity Exists(First Of(Event Player.Target_Order)) ? Direction From Angles(
				Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player), Eye Position(First Of(Event Player.Target_Order))
				+ Velocity Of(First Of(Event Player.Target_Order)) * Event Player.Aim_Predict * (Distance Between(Event Player, First Of(
				Event Player.Target_Order)) / Event Player.Aim_Predict_Scale))), Vertical Angle From Direction(Direction Towards(Eye Position(
				Event Player), Event Player.Aim_Arc > 0 ? First Of(Event Player.Target_Order) : Eye Position(First Of(
				Event Player.Target_Order)))) + Distance Between(Event Player, First Of(Event Player.Target_Order))
				* Event Player.Aim_Arc * -1) : (Is In Line of Sight(Eye Position(Event Player), Event Player.Walk_To_Position,
				Barriers Do Not Block LOS) ? Direction Towards(Eye Position(Event Player), Event Player.Walk_To_Position)
				: Direction From Angles(Horizontal Angle From Direction(Direction Towards(Eye Position(Event Player),
				Event Player.Current_Node)), 0)), Is True For Any(Array(Has Status(Event Player, Knocked Down), Has Status(Event Player,
				Asleep), Has Status(Event Player, Frozen), Has Status(Event Player, Stunned)), Current Array Element == True) ? 0 : (
				Magnitude Of(Throttle Of(Event Player)) == 0 && !Entity Exists(First Of(Event Player.Target_Order)) ? 0 : Global.Turn_Speed),
				To World, Direction and Turn Rate);
		End;
	}
}

rule("Difficulty")
{
	event
	{
		Ongoing - Global;
	}

	actions
	{
		If(Global.Difficulty == 1);
			Global.Aim_Type = 0;
			Global.Invisible_Targeting = 3;
			Global.Targeting_Type = 0;
			Global.Can_Hear = False;
			Global.Use_Complex_Abilitys = False;
			Global.Ignore_Abilitys = True;
			Global.Turn_Speed = 100;
		Else If(Global.Difficulty == 2);
			Global.Aim_Type = 1;
			Global.Invisible_Targeting = 2;
			Global.Targeting_Type = 3;
			Global.Can_Hear = False;
			Global.Use_Complex_Abilitys = False;
			Global.Ignore_Abilitys = False;
			Global.Turn_Speed = 225;
		Else If(Global.Difficulty == 2);
			Global.Aim_Type = 3;
			Global.Invisible_Targeting = 0;
			Global.Targeting_Type = 3;
			Global.Can_Hear = True;
			Global.Use_Complex_Abilitys = True;
			Global.Ignore_Abilitys = False;
			Global.Turn_Speed = 320;
		End;
	}
}

rule("Global Hero Restrictions")
{
	event
	{
		Subroutine;
		Get_Roles;
	}

	actions
	{
		Global.Bot_Hero_PoolsT1 = Empty Array;
		Global.Bot_Hero_PoolsT2 = Empty Array;
		If(Global.Slot1_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot1_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot1_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot1_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot1_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot1_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya)), Hero(Mauga)));
		Else If(Global.Slot1_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot1_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot2_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot2_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot2_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot2_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot2_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot2_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya)), Hero(Mauga)));
		Else If(Global.Slot2_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot2_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot3_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot3_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot3_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot3_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot3_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot3_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot3_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot3_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot4_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot4_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot4_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot4_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot4_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot4_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya)), Hero(Mauga)));
		Else If(Global.Slot4_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot4_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot5_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot5_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot5_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot5_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot5_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot5_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot5_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot5_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot6_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Heroes));
		Else If(Global.Slot6_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot6_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot6_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot6_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot6_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot6_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot6_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT1, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot1_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot1_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot1_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot1_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot1_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot1_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot1_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot1_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot2_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot2_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot2_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot2_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot2_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot2_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot2_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot2_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot3_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot3_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot3_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot3_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot3_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot3_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot3_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot3_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot4_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot4_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot4_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot4_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot4_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot4_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot4_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot4_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot5_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot5_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot5_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot5_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot5_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot5_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot5_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot5_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
		If(Global.Slot6_Role_Lock == 0);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Heroes));
		Else If(Global.Slot6_Role_Lock == 1);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Tank Heroes));
		Else If(Global.Slot6_Role_Lock == 2);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Damage Heroes));
		Else If(Global.Slot6_Role_Lock == 3);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(All Support Heroes));
		Else If(Global.Slot6_Role_Lock == 4);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Reinhardt), Hero(Sigma), Hero(Orisa))));
		Else If(Global.Slot6_Role_Lock == 5);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(D.Va), Hero(Roadhog), Hero(Winston), Hero(
				Wrecking Ball), Hero(Zarya), Hero(Mauga))));
		Else If(Global.Slot6_Role_Lock == 6);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Mercy), Hero(Moira), Hero(Ana), Hero(Baptiste))));
		Else If(Global.Slot6_Role_Lock == 7);
			Modify Global Variable(Bot_Hero_PoolsT2, Append To Array, Array(Array(Hero(Brigitte), Hero(Lúcio), Hero(Zenyatta), Hero(Illari))));
		End;
	}
}

disabled rule("----------------------------------- Subroutine ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

disabled rule("----------------------------------- Track Sombra Stealth ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Setup Sombra")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Event Player.In_Combat_Array = Empty Array;
		Event Player.Is_Visible_Array = Empty Array;
		Chase Player Variable At Rate(Event Player, Invisible_Cooldown, 0, Event Player.In_Combat_Array == Empty Array ? 1 : 0,
			Destination and Rate);
	}
}

rule("Reset In Combat - Objective")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		(Is Team On Defense(Team Of(Event Player)) ? Is On Objective(Event Player) && Is True For Any(All Living Players(Opposite Team Of(
			Team Of(Event Player))), Is On Objective(Current Array Element)) : Is On Objective(Event Player)) == True;
	}

	actions
	{
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("On Objective")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("On Objective"));
		Wait Until((Is Team On Defense(Team Of(Event Player)) ? Is On Objective(Event Player) && Is True For Any(All Living Players(
			Opposite Team Of(Team Of(Event Player))), Is On Objective(Current Array Element)) : Is On Objective(Event Player)) != True,
			99999);
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("On Objective"));
	}
}

rule("Reset In Combat - Taken Damage")
{
	event
	{
		Player Took Damage;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Took Damage"));
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Took Damage"));
	}
}

rule("Reset In Combat - Firing Primary")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Is Firing Primary(Event Player) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Firing Primary")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Firing Primary"));
		Wait Until(!Is Firing Primary(Event Player), 99999);
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Firing Primary"));
	}
}

rule("Reset In Combat - EMP")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Is Using Ultimate(Event Player) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Used EMP")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Used EMP"));
		Wait(2, Ignore Condition);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Used EMP"));
	}
}

rule("Reset In Combat - Quick Melee")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Is Meleeing(Event Player) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Quick Melee")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Quick Melee"));
		Wait Until(!Is Meleeing(Event Player), 99999);
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Quick Melee"));
	}
}

rule("Reset In Combat - Virus")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Is Using Ability 1(Event Player) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Used Virus")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Used Virus"));
		Wait Until(!Is Using Ability 1(Event Player), 99999);
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Used Virus"));
	}
}

rule("Reset In Combat - Hacking Player")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Event Player.Invisible_Cooldown == 0;
		(Is Firing Secondary(Event Player) && Is True For Any(Filtered Array(All Living Players(Opposite Team Of(Team Of(Event Player))),
			!Has Status(Current Array Element, Hacked)), Distance Between(Event Player, Current Array Element)
			<= 15 && Is In Line of Sight(Eye Position(Event Player), Current Array Element, Barriers Do Not Block LOS) && Is In View Angle(
			Event Player, Current Array Element, 40))) == True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Hacking Player")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Hacking Player"));
		Wait Until((Is Firing Secondary(Event Player) && Is True For Any(Filtered Array(All Living Players(Opposite Team Of(Team Of(
			Event Player))), !Has Status(Current Array Element, Hacked)), Distance Between(Event Player, Current Array Element)
			<= 15 && Is In Line of Sight(Eye Position(Event Player), Current Array Element, Barriers Do Not Block LOS) && Is In View Angle(
			Event Player, Current Array Element, 40))) != True, 99999);
		Wait(2, Restart When True);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Hacking Player"));
	}
}

rule("Is Visible - Hacking Medkit")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Event Player.Invisible_Cooldown == 0;
		(Is Firing Secondary(Event Player) && Is True For Any(Global.Healthkits, Distance Between(Event Player, Current Array Element)
			<= 15 && Is In Line of Sight(Eye Position(Event Player), Current Array Element, Barriers Do Not Block LOS) && Is In View Angle(
			Event Player, Current Array Element - Vector(0, 1.550, 0), 40))) == True;
	}

	actions
	{
		Skip If(Array Contains(Event Player.Is_Visible_Array, Custom String("Hacking Medkit")), 1);
		Modify Player Variable(Event Player, Is_Visible_Array, Append To Array, Custom String("Hacking Medkit"));
		Wait Until((Is Firing Secondary(Event Player) && Is True For Any(Global.Healthkits, Distance Between(Event Player,
			Current Array Element) <= 15 && Is In Line of Sight(Eye Position(Event Player), Current Array Element,
			Barriers Do Not Block LOS) && Is In View Angle(Event Player, Current Array Element - Vector(0, 1.550, 0), 40))) != True,
			99999);
		Modify Player Variable(Event Player, Is_Visible_Array, Remove From Array By Value, Custom String("Hacking Medkit"));
	}
}

rule("Is Visible - Infra-Sight")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Event Player.Invisible_Cooldown == 0;
		Is True For Any(Players On Hero(Hero(Widowmaker), Opposite Team Of(Team Of(Event Player))), Is Using Ultimate(
			Current Array Element)) == True;
	}

	actions
	{
		Skip If(Array Contains(Event Player.Is_Visible_Array, Custom String("Infra-Sight")), 1);
		Modify Player Variable(Event Player, Is_Visible_Array, Append To Array, Custom String("Infra-Sight"));
		Wait Until(!Is True For Any(Players On Hero(Hero(Widowmaker), Opposite Team Of(Team Of(Event Player))), Is Using Ultimate(
			Current Array Element)), 99999);
		Modify Player Variable(Event Player, Is_Visible_Array, Remove From Array By Value, Custom String("Infra-Sight"));
	}
}

rule("Not In Combat - Translocator")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Is Using Ability 2(Event Player) == True;
		Event Player.Invisible_Cooldown != 0;
	}

	actions
	{
		Wait Until(!Is Using Ability 2(Event Player), 0.250);
		Event Player.In_Combat_Array = Empty Array;
		Event Player.Invisible_Cooldown -= Min(Event Player.Invisible_Cooldown, 0.500);
	}
}

rule("Exit Invisiblity - Primary, Virus, Quick Melee")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Event Player.Invisible_Cooldown == 0;
		Is True For Any(Array(Button(Primary Fire), Button(Ability 1), Button(Melee)), Is Button Held(Event Player, Current Array Element))
			== True;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("Button Press - Exit")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("Button Press - Exit"));
		Wait(2, Ignore Condition);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("Button Press - Exit"));
	}
}

rule("Exit Invisiblity - EMP")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		(Hero Being Duplicated(Event Player) == Hero(Sombra) || Hero Of(Event Player) == Hero(Sombra)) == True;
		Event Player.Invisible_Cooldown == 0;
		Is Button Held(Event Player, Button(Ultimate)) == True;
		Ultimate Charge Percent(Event Player) == 100;
	}

	actions
	{
		Event Player.Invisible_Cooldown = 1.500;
		Skip If(Array Contains(Event Player.In_Combat_Array, Custom String("EMP Press - Exit")), 1);
		Modify Player Variable(Event Player, In_Combat_Array, Append To Array, Custom String("EMP Press - Exit"));
		Wait(2, Ignore Condition);
		Modify Player Variable(Event Player, In_Combat_Array, Remove From Array By Value, Custom String("EMP Press - Exit"));
	}
}

disabled rule("----------------------------------- Track Sombra Stealth ------------------------------------------")
{
	event
	{
		Ongoing - Global;
	}
}

rule("Activate Point")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		(Is Game In Progress && Match Time > 0) == True;
	}

	actions
	{
		Global.Point_Active = True;
		Wait Until(Is Between Rounds, 99999);
		Global.Point_Active = False;
	}
}

rule("Set Leader Team 1")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		Global.LeaderT1 != First Of(Sorted Array(Filtered Array(All Living Players(Team 1), !Current Array Element.Is_Frozen), (
			Array Contains(All Tank Heroes, Hero Of(Current Array Element)) ? 1 : (Array Contains(All Damage Heroes, Hero Of(
			Current Array Element)) ? 3 : 5)) * (Is Dummy Bot(Current Array Element) ? 2 : 1)));
	}

	actions
	{
		Global.LeaderT1 = First Of(Sorted Array(Filtered Array(All Living Players(Team 1), !Current Array Element.Is_Frozen), (
			Array Contains(All Tank Heroes, Hero Of(Current Array Element)) ? 1 : (Array Contains(All Damage Heroes, Hero Of(
			Current Array Element)) ? 3 : 5)) * (Is Dummy Bot(Current Array Element) ? 2 : 1)));
		Wait(0.500, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Set Leader Team 2")
{
	event
	{
		Ongoing - Global;
	}

	conditions
	{
		Global.LeaderT2 != First Of(Sorted Array(Filtered Array(All Living Players(Team 2), !Current Array Element.Is_Frozen), (
			Array Contains(All Tank Heroes, Hero Of(Current Array Element)) ? 2 : (Array Contains(All Damage Heroes, Hero Of(
			Current Array Element)) ? 3 : 5)) * (Is Dummy Bot(Current Array Element) ? 2 : 2)));
	}

	actions
	{
		Global.LeaderT2 = First Of(Sorted Array(Filtered Array(All Living Players(Team 2), !Current Array Element.Is_Frozen), (
			Array Contains(All Tank Heroes, Hero Of(Current Array Element)) ? 1 : (Array Contains(All Damage Heroes, Hero Of(
			Current Array Element)) ? 3 : 5)) * (Is Dummy Bot(Current Array Element) ? 2 : 1)));
		Wait(0.500, Ignore Condition);
		Loop If Condition Is True;
	}
}

rule("Needs Thawing")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Health(Event Player) == 1;
	}

	actions
	{
		Event Player.Is_Frozen = True;
		Wait Until(Health(Event Player) != 1, 99999);
		Event Player.Is_Frozen = False;
	}
}

rule("Thaw Teammate")
{
	event
	{
		Ongoing - Each Player;
		All;
		All;
	}

	conditions
	{
		Is Dummy Bot(Event Player) == True;
		Event Player.Is_Frozen != True;
		Count Of(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen)) >= (Entity Exists(First Of(
			Event Player.Target_Order)) ? Event Player.Thaw_Breaking_Point : 1);
		Distance Between(Event Player, First Of(Sorted Array(Filtered Array(All Players(Team Of(Event Player)),
			Current Array Element.Is_Frozen), Distance Between(Event Player, Current Array Element)))) <= 3;
	}

	actions
	{
		Stop Facing(Event Player);
		Start Facing(Event Player, Direction Towards(Eye Position(Event Player), Eye Position(First Of(Sorted Array(Filtered Array(
			All Players(Team Of(Event Player)), Current Array Element.Is_Frozen), Distance Between(Event Player,
			Current Array Element))))), Global.Turn_Speed, To World, Direction and Turn Rate);
		Start Holding Button(Event Player, Button(Interact));
		Wait Until((First Of(Sorted Array(Filtered Array(All Players(Team Of(Event Player)), Current Array Element.Is_Frozen),
			Distance Between(Event Player, Current Array Element))).Is_Frozen != True || Entity Exists(First Of(Event Player.Target_Order))
			!= True || Event Player.Is_Frozen == True) == True, 5);
		Stop Holding Button(Event Player, Button(Interact));
		Call Subroutine(Start_Facing);
	}
}
